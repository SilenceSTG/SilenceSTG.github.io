System.register("chunks:///_virtual/AirDeathSubStateMachine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index.ts","./State.ts","./DirectionSubStateMachine.ts"],(function(t){var e,n,i,a,s;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){i=t.DIRECTION_ENUM},function(t){a=t.default},function(t){s=t.default}],execute:function(){n._RF.push({},"d27532iPLlJ57K57VDVbTBj","AirDeathSubStateMachine",void 0);var c="texture/player/airdeath";t("default",function(t){function n(e){var n;return(n=t.call(this,e)||this).fsm=e,n.stateMachines.set(i.TOP,new a(e,c+"/top")),n.stateMachines.set(i.LEFT,new a(e,c+"/left")),n.stateMachines.set(i.RIGHT,new a(e,c+"/right")),n.stateMachines.set(i.BOTTOM,new a(e,c+"/bottom")),n}return e(n,t),n}(s));n._RF.pop()}}}));

System.register("chunks:///_virtual/AttackSubStateMachine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index.ts","./State.ts","./DirectionSubStateMachine.ts"],(function(t){var e,n,s,a,i;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){s=t.DIRECTION_ENUM},function(t){a=t.default},function(t){i=t.default}],execute:function(){n._RF.push({},"289d7vPnPZC8YiBQ+Mw+b2P","AttackSubStateMachine",void 0);var c="texture/woodenskeleton/attack";t("default",function(t){function n(e){var n;return(n=t.call(this,e)||this).fsm=e,n.stateMachines.set(s.TOP,new a(e,c+"/top")),n.stateMachines.set(s.LEFT,new a(e,c+"/left")),n.stateMachines.set(s.RIGHT,new a(e,c+"/right")),n.stateMachines.set(s.BOTTOM,new a(e,c+"/bottom")),n}return e(n,t),n}(i));n._RF.pop()}}}));

System.register("chunks:///_virtual/AttackSubStateMachine2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index.ts","./State.ts","./DirectionSubStateMachine.ts"],(function(t){var e,a,n,c,r,o,s,i;return{setters:[function(t){e=t.inheritsLoose},function(t){a=t.cclegacy,n=t.AnimationClip},function(t){c=t.DIRECTION_ENUM,r=t.SHAKE_TYPE_ENUM},function(t){o=t.default,s=t.ANIMATION_SPEED},function(t){i=t.default}],execute:function(){a._RF.push({},"80dd7cF9BZIq7hlPYScZuAp","AttackSubStateMachine",void 0);var u="texture/player/attack";t("default",function(t){function a(e){var a;return(a=t.call(this,e)||this).fsm=e,a.stateMachines.set(c.TOP,new o(e,u+"/top",n.WrapMode.Normal,s,[{frame:4*s,func:"onAttackShake",params:[r.TOP]}])),a.stateMachines.set(c.LEFT,new o(e,u+"/left",n.WrapMode.Normal,s,[{frame:4*s,func:"onAttackShake",params:[r.LEFT]}])),a.stateMachines.set(c.RIGHT,new o(e,u+"/right",n.WrapMode.Normal,s,[{frame:4*s,func:"onAttackShake",params:[r.RIGHT]}])),a.stateMachines.set(c.BOTTOM,new o(e,u+"/bottom",n.WrapMode.Normal,s,[{frame:4*s,func:"onAttackShake",params:[r.BOTTOM]}])),a}return e(a,t),a}(i));a._RF.pop()}}}));

System.register("chunks:///_virtual/BattleManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TileMapManager.ts","./index2.ts","./index3.ts","./DataManager.ts","./EventManager.ts","./index.ts","./PlayerManager.ts","./WoodenSkeletonManager.ts","./DoorManager.ts","./IronSkeletonManager.ts","./BurstManager.ts","./SpikesManager.ts","./SomkeManager.ts","./FaderManager.ts","./ShakeManager.ts"],(function(e){var t,n,a,r,s,o,i,c,u,p,f,l,h,d,I,y,v,g,E,m,k,x,L,M,T,S,P;return{setters:[function(e){t=e.inheritsLoose,n=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){r=e.cclegacy,s=e._decorator,o=e.Component,i=e.director},function(e){c=e.TILE_WIDTH,u=e.TILE_HEIGHT,p=e.TileMapManager},function(e){f=e.createUINode},function(e){l=e.default},function(e){h=e.default},function(e){d=e.default},function(e){I=e.EVENT_ENUM,y=e.ENTITY_STATE_ENUM,v=e.SCENE_ENUM,g=e.ENTITY_TYPE_ENUM},function(e){E=e.PlayerManager},function(e){m=e.WoodenSkeletonManager},function(e){k=e.DoorManager},function(e){x=e.IronSkeletonManager},function(e){L=e.BurstManager},function(e){M=e.SpikesManager},function(e){T=e.SomkeManager},function(e){S=e.default},function(e){P=e.ShakeManager}],execute:function(){var _;r._RF.push({},"09dba5vptdJoq9FjkMZattY","BattleManager",void 0);var N=s.ccclass;s.property,e("BattleManager",N("BattleManager")(_=function(e){function r(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))||this).stage=void 0,t.Level=void 0,t.somkeNode=void 0,t.inited=!1,t}t(r,e);var s=r.prototype;return s.onLoad=function(){h.Instance.levelNumber=1,d.Instance.on(I.NEST_LEVEL,this.nestLevel,this),d.Instance.on(I.PLAYER_MOVE_END,this.checkArriver,this),d.Instance.on(I.SHOW_SOMKE,this.generateSomke,this),d.Instance.on(I.RECORD_STEP,this.record,this),d.Instance.on(I.REVOKE_STEP,this.revoke,this),d.Instance.on(I.RESTART_LEVEL,this.initLevel,this),d.Instance.on(I.OUT_BETTLE,this.outBettle,this)},s.onDestroy=function(){d.Instance.off(I.NEST_LEVEL,this.nestLevel),d.Instance.off(I.PLAYER_MOVE_END,this.checkArriver),d.Instance.off(I.SHOW_SOMKE,this.generateSomke),d.Instance.off(I.RECORD_STEP,this.record),d.Instance.off(I.REVOKE_STEP,this.revoke),d.Instance.off(I.RESTART_LEVEL,this.initLevel),d.Instance.off(I.OUT_BETTLE,this.outBettle)},s.start=function(){this.generateStage(),this.initLevel()},s.initLevel=function(){var e=n(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=l["level"+h.Instance.levelNumber])){e.next=14;break}if(!this.inited){e.next=7;break}return e.next=5,S.Instance.fadeIn();case 5:e.next=9;break;case 7:return e.next=9,S.Instance.mask();case 9:this.clearLevel(),this.Level=t,h.Instance.mapInfo=this.Level.mapInfo,h.Instance.mapRowCount=this.Level.mapInfo.length,h.Instance.mapColumnCount=this.Level.mapInfo[0].length;case 14:return e.next=16,Promise.all([this.generateTileMap(),this.generateEnemies(),this.generateSomkeParentNode(),this.generateDoor(),this.generateBurst(),this.generateSpikes(),this.generatePlayer()]);case 16:return e.next=18,S.Instance.fadeOut();case 18:this.inited=!0;case 19:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s.nestLevel=function(){h.Instance.levelNumber++,this.initLevel()},s.clearLevel=function(){this.stage.destroyAllChildren(),h.Instance.reset(),d.Instance.log()},s.checkArriver=function(){var e=h.Instance.player,t=e.x,n=e.y,a=h.Instance.door,r=a.x,s=a.y,o=a.state;t===r&&n===s&&o===y.DEATH&&d.Instance.emit(I.NEST_LEVEL)},s.onRestart=function(){},s.outBettle=function(){var e=n(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.Instance.fadeIn();case 2:i.loadScene(v.Start);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),s.generateTileMap=function(){var e=n(a().mark((function e(){var t,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=f()).setParent(this.stage),n=t.addComponent(p),e.next=5,n.init();case 5:this.adaptPos();case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s.generateStage=function(){this.stage=f(),this.stage.setParent(this.node),this.stage.addComponent(P)},s.generatePlayer=function(){var e=n(a().mark((function e(){var t,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=f()).setParent(this.stage),n=t.addComponent(E),e.next=5,n.init(this.Level.player);case 5:h.Instance.player=n,d.Instance.emit(I.PLAYER_BORN,!0);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s.generateEnemies=function(){var e=n(a().mark((function e(){var t,n,r,s,o,i,c;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=[],n=this.Level.enemies,r=0;r<n.length;r++)(s=f()).setParent(this.stage),o=n[r],i=o.type===g.SKELETON_WOODEN?m:x,c=s.addComponent(i),t.push(c.init(o)),h.Instance.enemies.push(c);return e.next=5,Promise.all(t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s.generateDoor=function(){var e=n(a().mark((function e(){var t,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=f()).setParent(this.stage),n=t.addComponent(k),e.next=5,n.init(this.Level.door);case 5:h.Instance.door=n;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s.generateBurst=function(){var e=n(a().mark((function e(){var t,n,r,s,o,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=[],n=this.Level.bursts,r=0;r<n.length;r++)(s=f()).setParent(this.stage),o=n[r],i=s.addComponent(L),t.push(i.init(o)),h.Instance.burst.push(i);return e.next=5,Promise.all(t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s.generateSpikes=function(){var e=n(a().mark((function e(){var t,n,r,s,o,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=[],n=this.Level.spikes,r=0;r<n.length;r++)(s=f()).setParent(this.stage),o=n[r],i=s.addComponent(M),t.push(i.init(o)),h.Instance.spikes.push(i);return e.next=5,Promise.all(t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s.generateSomkeParentNode=function(){var e=n(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.somkeNode=f(),this.somkeNode.setParent(this.stage);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s.generateSomke=function(){var e=n(a().mark((function e(t,n,r){var s,o,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(s=h.Instance.somke.find((function(e){return e.state===y.DEATH})))){e.next=9;break}s.x=t,s.y=n,s.direction=r,s.state=y.IDLE,s.node.setPosition(t*c-1.5*c,-n*u+1.5*u),e.next=15;break;case 9:return(o=f()).setParent(this.somkeNode),i=o.addComponent(T),e.next=14,i.init({x:t,y:n,direction:r,state:y.IDLE,type:g.SOMKE});case 14:h.Instance.somke.push(i);case 15:case"end":return e.stop()}}),e,this)})));return function(t,n,a){return e.apply(this,arguments)}}(),s.record=function(){var e={player:{x:h.Instance.player.x,y:h.Instance.player.y,type:h.Instance.player.type,direction:h.Instance.player.direction,state:h.Instance.player.state===y.IDLE||h.Instance.player.state===y.AIRDEATH||h.Instance.player.state===y.DEATH?h.Instance.player.state:y.IDLE},enemies:h.Instance.enemies.map((function(e){var t=e.x,n=e.y,a=e.type,r=e.direction,s=e.state;return{x:t,y:n,type:a,direction:r,state:s===y.IDLE||s===y.DEATH?s:y.IDLE}})),spikes:h.Instance.spikes.map((function(e){return{x:e.x,y:e.y,count:e.count,type:e.type}})),bursts:h.Instance.burst.map((function(e){return{x:e.x,y:e.y,type:e.type,direction:e.direction,state:e.state}})),door:{x:h.Instance.door.x,y:h.Instance.door.y,type:h.Instance.door.type,direction:h.Instance.door.direction,state:h.Instance.door.state}};h.Instance.record.push(e)},s.revoke=function(){var e=h.Instance.record.pop();if(e){h.Instance.player.x=h.Instance.player.targetX=e.player.x,h.Instance.player.y=h.Instance.player.targetY=e.player.y,h.Instance.player.type=e.player.type,h.Instance.player.direction=e.player.direction,h.Instance.player.state=e.player.state,h.Instance.door.x=e.door.x,h.Instance.door.y=e.door.y,h.Instance.door.direction=e.door.direction,h.Instance.door.state=e.door.state;for(var t=e.enemies,n=0;n<t.length;n++)h.Instance.enemies[n].x=t[n].x,h.Instance.enemies[n].y=t[n].y,h.Instance.enemies[n].direction=t[n].direction,h.Instance.enemies[n].state=t[n].state;for(var a=e.spikes,r=0;r<a.length;r++)h.Instance.spikes[r].x=a[r].x,h.Instance.spikes[r].y=a[r].y,h.Instance.spikes[r].count=a[r].count,h.Instance.spikes[r].type=a[r].type;for(var s=e.bursts,o=0;o<s.length;o++)h.Instance.burst[o].x=s[o].x,h.Instance.burst[o].y=s[o].y,h.Instance.burst[o].type=s[o].type,h.Instance.burst[o].direction=s[o].direction,h.Instance.burst[o].state=s[o].state}},s.adaptPos=function(){var e=h.Instance,t=e.mapRowCount,n=e.mapColumnCount,a=-t*c/2,r=n*u/2+80;this.stage.getComponent(P).stop(),this.stage.setPosition(a,r)},r}(o))||_);r._RF.pop()}}}));

System.register("chunks:///_virtual/BlockBackSubMachine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index.ts","./State.ts","./DirectionSubStateMachine.ts"],(function(t){var e,n,c,s,i;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){c=t.DIRECTION_ENUM},function(t){s=t.default},function(t){i=t.default}],execute:function(){n._RF.push({},"c869f/N8IVKcLCUMeZg1dbU","BlockBackSubMachine",void 0);var a="texture/player/blockback";t("default",function(t){function n(e){var n;return(n=t.call(this,e)||this).fsm=e,n.stateMachines.set(c.TOP,new s(e,a+"/top")),n.stateMachines.set(c.LEFT,new s(e,a+"/left")),n.stateMachines.set(c.RIGHT,new s(e,a+"/right")),n.stateMachines.set(c.BOTTOM,new s(e,a+"/bottom")),n}return e(n,t),n}(i));n._RF.pop()}}}));

System.register("chunks:///_virtual/BlockLeftSubMachine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index.ts","./State.ts","./DirectionSubStateMachine.ts"],(function(t){var e,n,s,c,i;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){s=t.DIRECTION_ENUM},function(t){c=t.default},function(t){i=t.default}],execute:function(){n._RF.push({},"7ab6fQHlCtCj5vNZQpdIhoB","BlockLeftSubMachine",void 0);var a="texture/player/blockleft";t("default",function(t){function n(e){var n;return(n=t.call(this,e)||this).fsm=e,n.stateMachines.set(s.TOP,new c(e,a+"/top")),n.stateMachines.set(s.LEFT,new c(e,a+"/left")),n.stateMachines.set(s.RIGHT,new c(e,a+"/right")),n.stateMachines.set(s.BOTTOM,new c(e,a+"/bottom")),n}return e(n,t),n}(i));n._RF.pop()}}}));

System.register("chunks:///_virtual/BlockRightSubMachine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index.ts","./State.ts","./DirectionSubStateMachine.ts"],(function(t){var e,n,i,c,s;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){i=t.DIRECTION_ENUM},function(t){c=t.default},function(t){s=t.default}],execute:function(){n._RF.push({},"97ebcrXb55LMIbnU9kUABYk","BlockRightSubMachine",void 0);var u="texture/player/blockright";t("default",function(t){function n(e){var n;return(n=t.call(this,e)||this).fsm=e,n.stateMachines.set(i.TOP,new c(e,u+"/top")),n.stateMachines.set(i.LEFT,new c(e,u+"/left")),n.stateMachines.set(i.RIGHT,new c(e,u+"/right")),n.stateMachines.set(i.BOTTOM,new c(e,u+"/bottom")),n}return e(n,t),n}(s));n._RF.pop()}}}));

System.register("chunks:///_virtual/BlockTurnLeftSubMachine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index.ts","./State.ts","./DirectionSubStateMachine.ts"],(function(t){var e,n,s,c,i;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){s=t.DIRECTION_ENUM},function(t){c=t.default},function(t){i=t.default}],execute:function(){n._RF.push({},"44b38bb9ZZNG64AdXCY4kOX","BlockTurnLeftSubMachine",void 0);var u="texture/player/blockturnleft";t("default",function(t){function n(e){var n;return(n=t.call(this,e)||this).fsm=e,n.stateMachines.set(s.TOP,new c(e,u+"/top")),n.stateMachines.set(s.LEFT,new c(e,u+"/left")),n.stateMachines.set(s.RIGHT,new c(e,u+"/right")),n.stateMachines.set(s.BOTTOM,new c(e,u+"/bottom")),n}return e(n,t),n}(i));n._RF.pop()}}}));

System.register("chunks:///_virtual/BlockTurnRightSubMachine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index.ts","./State.ts","./DirectionSubStateMachine.ts"],(function(t){var e,n,i,c,s;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){i=t.DIRECTION_ENUM},function(t){c=t.default},function(t){s=t.default}],execute:function(){n._RF.push({},"0f431Y8RchLM764H7W80mgg","BlockTurnRightSubMachine",void 0);var u="texture/player/blockturnright";t("default",function(t){function n(e){var n;return(n=t.call(this,e)||this).fsm=e,n.stateMachines.set(i.TOP,new c(e,u+"/top")),n.stateMachines.set(i.LEFT,new c(e,u+"/left")),n.stateMachines.set(i.RIGHT,new c(e,u+"/right")),n.stateMachines.set(i.BOTTOM,new c(e,u+"/bottom")),n}return e(n,t),n}(s));n._RF.pop()}}}));

System.register("chunks:///_virtual/BloickFrontSubMachi.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index.ts","./State.ts","./DirectionSubStateMachine.ts"],(function(t){var e,n,i,s,c;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){i=t.DIRECTION_ENUM},function(t){s=t.default},function(t){c=t.default}],execute:function(){n._RF.push({},"44640BEIM9E2JDrjyv148XD","BloickFrontSubMachi",void 0);var o="texture/player/blockfront";t("default",function(t){function n(e){var n;return(n=t.call(this,e)||this).fsm=e,n.stateMachines.set(i.TOP,new s(e,o+"/top")),n.stateMachines.set(i.LEFT,new s(e,o+"/left")),n.stateMachines.set(i.RIGHT,new s(e,o+"/right")),n.stateMachines.set(i.BOTTOM,new s(e,o+"/bottom")),n}return e(n,t),n}(c));n._RF.pop()}}}));

System.register("chunks:///_virtual/BloickFrontSubMachine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index.ts","./State.ts","./DirectionSubStateMachine.ts"],(function(t){var e,n,c,i,s;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){c=t.DIRECTION_ENUM},function(t){i=t.default},function(t){s=t.default}],execute:function(){n._RF.push({},"c3f86rKN8JA7JThLcn8Im4q","BloickFrontSubMachine",void 0);var o="texture/player/blockfront";t("default",function(t){function n(e){var n;return(n=t.call(this,e)||this).fsm=e,n.stateMachines.set(c.TOP,new i(e,o+"/top")),n.stateMachines.set(c.LEFT,new i(e,o+"/left")),n.stateMachines.set(c.RIGHT,new i(e,o+"/right")),n.stateMachines.set(c.BOTTOM,new i(e,o+"/bottom")),n}return e(n,t),n}(s));n._RF.pop()}}}));

System.register("chunks:///_virtual/BurstManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TileMapManager.ts","./index.ts","./EventManager.ts","./EntityManager.ts","./BurstStateMachine.ts","./DataManager.ts"],(function(t){var n,e,s,a,i,r,o,c,u,h,E,f,p,T,M;return{setters:[function(t){n=t.inheritsLoose,e=t.asyncToGenerator,s=t.regeneratorRuntime},function(t){a=t.cclegacy,i=t._decorator,r=t.UITransform},function(t){o=t.TILE_WIDTH,c=t.TILE_HEIGHT},function(t){u=t.ENTITY_STATE_ENUM,h=t.EVENT_ENUM,E=t.SHAKE_TYPE_ENUM},function(t){f=t.default},function(t){p=t.EntityManager},function(t){T=t.BurstStateMachine},function(t){M=t.default}],execute:function(){var l;a._RF.push({},"aa86eKNcGRCYJFpc4E0hDl+","BurstManager",void 0);var y=i.ccclass;i.property,t("BurstManager",y("BurstManager ")(l=function(t){function a(){return t.apply(this,arguments)||this}n(a,t);var i=a.prototype;return i.init=function(){var n=e(s().mark((function n(e){return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return this.fsm=this.addComponent(T),n.next=3,this.fsm.init();case 3:t.prototype.init.call(this,e),this.getComponent(r).setContentSize(o,c),this.state=u.IDLE,f.Instance.on(h.PLAYER_MOVE_END,this.onBurst,this);case 8:case"end":return n.stop()}}),n,this)})));return function(t){return n.apply(this,arguments)}}(),i.update=function(){this.node.setPosition(this.x*o,-this.y*c)},i.onBurst=function(){var t=M.Instance.player,n=t.x,e=t.y;t.state;this.x===n&&this.y===e&&this.state===u.IDLE?this.state=u.ATTACK:this.state===u.ATTACK&&(this.state=u.DEATH,this.x===n&&this.y===e&&(f.Instance.emit(h.SCREEN_SHAKE,E.BOTTOM),f.Instance.emit(h.ATTACK_PLAYER,u.AIRDEATH)))},a}(p))||l);a._RF.pop()}}}));

System.register("chunks:///_virtual/BurstStateMachine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index.ts","./State.ts","./StateMachine.ts"],(function(t){var e,s,a,i,n,r,c,h,u,o;return{setters:[function(t){e=t.inheritsLoose,s=t.asyncToGenerator,a=t.regeneratorRuntime},function(t){i=t.cclegacy,n=t._decorator,r=t.Animation},function(t){c=t.PARAME_NAME_ENUM},function(t){h=t.default},function(t){u=t.getInitParamsTrigger,o=t.StateMachine}],execute:function(){var p;i._RF.push({},"18a3adHb89ADogg5iGo5LPB","BurstStateMachine",void 0);var g=n.ccclass,A=(n.property,"texture/burst");t("BurstStateMachine",g("BurstStateMachine")(p=function(t){function i(){return t.apply(this,arguments)||this}e(i,t);var n=i.prototype;return n.init=function(){var t=s(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.animationComponent=this.addComponent(r),this.initParams(),this.initState(),t.next=5,Promise.all(this.waitingList);case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),n.initParams=function(){this.params.set(c.IDLE,u()),this.params.set(c.ATTACK,u()),this.params.set(c.DEATH,u())},n.initState=function(){this.stateMachines.set(c.IDLE,new h(this,A+"/idle")),this.stateMachines.set(c.ATTACK,new h(this,A+"/attack")),this.stateMachines.set(c.DEATH,new h(this,A+"/death"))},n.run=function(){switch(this.currentState){case this.stateMachines.get(c.IDLE):case this.stateMachines.get(c.DEATH):case this.stateMachines.get(c.ATTACK):this.params.get(c.DEATH).value?this.currentState=this.stateMachines.get(c.DEATH):this.params.get(c.ATTACK).value?this.currentState=this.stateMachines.get(c.ATTACK):this.params.get(c.IDLE).value?this.currentState=this.stateMachines.get(c.IDLE):this.currentState=this.currentState;break;default:this.currentState=this.stateMachines.get(c.IDLE)}},i}(o))||p);i._RF.pop()}}}));

System.register("chunks:///_virtual/ControllerManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./index.ts"],(function(n){var t,e,r,o,a,c;return{setters:[function(n){t=n.inheritsLoose},function(n){e=n.cclegacy,r=n._decorator,o=n.Component},function(n){a=n.default},function(n){c=n.EVENT_ENUM}],execute:function(){var u;e._RF.push({},"9266eZVt8dAR48ud1nTutdp","ControllerManager",void 0);var i=r.ccclass;r.property,n("ControllerManager",i("ControllerManager")(u=function(n){function e(){return n.apply(this,arguments)||this}t(e,n);var r=e.prototype;return r.start=function(){},r.handleCtrl=function(n,t){a.Instance.emit(c.PLAYER_CTRL,t)},e}(o))||u);e._RF.pop()}}}));

System.register("chunks:///_virtual/DataManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Singleton.ts"],(function(t){var e,n,o,i;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass},function(t){o=t.cclegacy},function(t){i=t.default}],execute:function(){o._RF.push({},"00239JGYw5BY5G/n+w5W4hC","DataManager",void 0);t("default",function(t){function o(){for(var e,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))||this).mapInfo=void 0,e.tileInfo=void 0,e.mapRowCount=0,e.mapColumnCount=0,e.levelNumber=1,e.player=void 0,e.enemies=void 0,e.door=void 0,e.burst=void 0,e.spikes=void 0,e.somke=void 0,e.record=void 0,e}return e(o,t),o.prototype.reset=function(){this.mapInfo=[],this.tileInfo=[],this.enemies=[],this.player=null,this.door=null,this.burst=[],this.spikes=[],this.somke=[],this.record=[],this.mapRowCount=0,this.mapColumnCount=0},n(o,null,[{key:"Instance",get:function(){return t.GetInstance.call(this)}}]),o}(i));o._RF.pop()}}}));

System.register("chunks:///_virtual/DeathSubMachine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index.ts","./State.ts","./DirectionSubStateMachine.ts"],(function(t){var e,n,i,s,a;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){i=t.DIRECTION_ENUM},function(t){s=t.default},function(t){a=t.default}],execute:function(){n._RF.push({},"a2ed9P5ZIFHW4CrjGipFxQY","DeathSubMachine",void 0);var c="texture/ironskeleton/death";t("default",function(t){function n(e){var n;return(n=t.call(this,e)||this).fsm=e,n.stateMachines.set(i.TOP,new s(e,c+"/top")),n.stateMachines.set(i.LEFT,new s(e,c+"/left")),n.stateMachines.set(i.RIGHT,new s(e,c+"/right")),n.stateMachines.set(i.BOTTOM,new s(e,c+"/bottom")),n}return e(n,t),n}(a));n._RF.pop()}}}));

System.register("chunks:///_virtual/DeathSubStateMachine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index.ts","./State.ts","./DirectionSubStateMachine.ts"],(function(t){var e,n,s,a,i;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){s=t.DIRECTION_ENUM},function(t){a=t.default},function(t){i=t.default}],execute:function(){n._RF.push({},"119e9yED8VHs5nOjGqkRFoM","DeathSubStateMachine",void 0);var c="texture/woodenskeleton/death";t("default",function(t){function n(e){var n;return(n=t.call(this,e)||this).fsm=e,n.stateMachines.set(s.TOP,new a(e,c+"/top")),n.stateMachines.set(s.LEFT,new a(e,c+"/left")),n.stateMachines.set(s.RIGHT,new a(e,c+"/right")),n.stateMachines.set(s.BOTTOM,new a(e,c+"/bottom")),n}return e(n,t),n}(i));n._RF.pop()}}}));

System.register("chunks:///_virtual/DeathSubStateMachine2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index.ts","./State.ts","./DirectionSubStateMachine.ts"],(function(t){var e,n,a,s,i;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){a=t.DIRECTION_ENUM},function(t){s=t.default},function(t){i=t.default}],execute:function(){n._RF.push({},"3c1bf8K9gNEUqg/Kvw8Jmbm","DeathSubStateMachine",void 0);var c="texture/player/death";t("default",function(t){function n(e){var n;return(n=t.call(this,e)||this).fsm=e,n.stateMachines.set(a.TOP,new s(e,c+"/top")),n.stateMachines.set(a.LEFT,new s(e,c+"/left")),n.stateMachines.set(a.RIGHT,new s(e,c+"/right")),n.stateMachines.set(a.BOTTOM,new s(e,c+"/bottom")),n}return e(n,t),n}(i));n._RF.pop()}}}));

System.register("chunks:///_virtual/DeathSubStateMachine3.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index.ts","./State.ts","./DirectionSubStateMachine.ts"],(function(t){var e,n,a,s,i;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){a=t.DIRECTION_ENUM},function(t){s=t.default},function(t){i=t.default}],execute:function(){n._RF.push({},"9a74eBIRidJZbqNf6yp10kN","DeathSubStateMachine",void 0);var c="texture/door/death";t("default",function(t){function n(e){var n;return(n=t.call(this,e)||this).fsm=e,n.stateMachines.set(a.TOP,new s(e,""+c)),n.stateMachines.set(a.LEFT,new s(e,""+c)),n.stateMachines.set(a.RIGHT,new s(e,""+c)),n.stateMachines.set(a.BOTTOM,new s(e,""+c)),n}return e(n,t),n}(i));n._RF.pop()}}}));

System.register("chunks:///_virtual/DeathSubStateMachine4.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index.ts","./State.ts","./DirectionSubStateMachine.ts"],(function(t){var e,n,s,a,i;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){s=t.DIRECTION_ENUM},function(t){a=t.default},function(t){i=t.default}],execute:function(){n._RF.push({},"d7e1f6fbEhCXpLzFBjgMs5J","DeathSubStateMachine",void 0);var c="texture/door/death";t("default",function(t){function n(e){var n;return(n=t.call(this,e)||this).fsm=e,n.stateMachines.set(s.TOP,new a(e,""+c)),n.stateMachines.set(s.LEFT,new a(e,""+c)),n.stateMachines.set(s.RIGHT,new a(e,""+c)),n.stateMachines.set(s.BOTTOM,new a(e,""+c)),n}return e(n,t),n}(i));n._RF.pop()}}}));

System.register("chunks:///_virtual/debug-view-runtime-control.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,o,i,n,s,l,r,a,g,h,p,c,C,d,m,u,L;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){s=t.cclegacy,l=t._decorator,r=t.Node,a=t.Color,g=t.Canvas,h=t.UITransform,p=t.instantiate,c=t.Label,C=t.RichText,d=t.Toggle,m=t.Button,u=t.director,L=t.Component}],execute:function(){var f,M,b,v,T,S,x,E,I;s._RF.push({},"b2bd1+njXxJxaFY3ymm06WU","debug-view-runtime-control",void 0);var A=l.ccclass,y=l.property;t("DebugViewRuntimeControl",(f=A("internal.DebugViewRuntimeControl"),M=y(r),b=y(r),v=y(r),f((x=e((S=function(t){function e(){for(var e,o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];return e=t.call.apply(t,[this].concat(s))||this,i(e,"compositeModeToggle",x,n(e)),i(e,"singleModeToggle",E,n(e)),i(e,"EnableAllCompositeModeButton",I,n(e)),e._single=0,e.strSingle=["No Single Debug","Vertex Color","Vertex Normal","Vertex Tangent","World Position","Vertex Mirror","Face Side","UV0","UV1","UV Lightmap","Project Depth","Linear Depth","Fragment Normal","Fragment Tangent","Fragment Binormal","Base Color","Diffuse Color","Specular Color","Transparency","Metallic","Roughness","Specular Intensity","IOR","Direct Diffuse","Direct Specular","Direct All","Env Diffuse","Env Specular","Env All","Emissive","Light Map","Shadow","AO","Fresnel","Direct Transmit Diffuse","Direct Transmit Specular","Env Transmit Diffuse","Env Transmit Specular","Transmit All","Direct Internal Specular","Env Internal Specular","Internal All","Fog"],e.strComposite=["Direct Diffuse","Direct Specular","Env Diffuse","Env Specular","Emissive","Light Map","Shadow","AO","Normal Map","Fog","Tone Mapping","Gamma Correction","Fresnel","Transmit Diffuse","Transmit Specular","Internal Specular","TT"],e.strMisc=["CSM Layer Coloration","Lighting With Albedo"],e.compositeModeToggleList=[],e.singleModeToggleList=[],e.miscModeToggleList=[],e.textComponentList=[],e.labelComponentList=[],e.textContentList=[],e.hideButtonLabel=void 0,e._currentColorIndex=0,e.strColor=["<color=#ffffff>","<color=#000000>","<color=#ff0000>","<color=#00ff00>","<color=#0000ff>"],e.color=[a.WHITE,a.BLACK,a.RED,a.GREEN,a.BLUE],e}o(e,t);var s=e.prototype;return s.start=function(){if(this.node.parent.getComponent(g)){var t=this.node.parent.getComponent(h),e=.5*t.width,o=.5*t.height,i=.1*e-e,n=o-.1*o,s=this.node.getChildByName("MiscMode"),l=p(s);l.parent=this.node,l.name="Buttons";var r=p(s);r.parent=this.node,r.name="Titles";for(var u=0;u<2;u++){var L=p(this.EnableAllCompositeModeButton.getChildByName("Label"));L.setPosition(i+(u>0?450:150),n,0),L.setScale(.75,.75,.75),L.parent=r;var f=L.getComponent(c);f.string=u?"----------Composite Mode----------":"----------Single Mode----------",f.color=a.WHITE,f.overflow=0,this.labelComponentList[this.labelComponentList.length]=f}n-=20;for(var M=0,b=0;b<this.strSingle.length;b++,M++){b===this.strSingle.length>>1&&(i+=200,M=0);var v=b?p(this.singleModeToggle):this.singleModeToggle;v.setPosition(i,n-20*M,0),v.setScale(.5,.5,.5),v.parent=this.singleModeToggle.parent;var T=v.getComponentInChildren(C);T.string=this.strSingle[b],this.textComponentList[this.textComponentList.length]=T,this.textContentList[this.textContentList.length]=T.string,v.on(d.EventType.TOGGLE,this.toggleSingleMode,this),this.singleModeToggleList[b]=v}i+=200,this.EnableAllCompositeModeButton.setPosition(i+15,n,0),this.EnableAllCompositeModeButton.setScale(.5,.5,.5),this.EnableAllCompositeModeButton.on(m.EventType.CLICK,this.enableAllCompositeMode,this),this.EnableAllCompositeModeButton.parent=l;var S=this.EnableAllCompositeModeButton.getComponentInChildren(c);this.labelComponentList[this.labelComponentList.length]=S;var x=p(this.EnableAllCompositeModeButton);x.setPosition(i+90,n,0),x.setScale(.5,.5,.5),x.on(m.EventType.CLICK,this.changeTextColor,this),x.parent=l,(S=x.getComponentInChildren(c)).string="TextColor",this.labelComponentList[this.labelComponentList.length]=S;var E=p(this.EnableAllCompositeModeButton);E.setPosition(i+200,n,0),E.setScale(.5,.5,.5),E.on(m.EventType.CLICK,this.hideUI,this),E.parent=this.node.parent,(S=E.getComponentInChildren(c)).string="Hide UI",this.labelComponentList[this.labelComponentList.length]=S,this.hideButtonLabel=S,n-=40;for(var I=0;I<this.strMisc.length;I++){var A=p(this.compositeModeToggle);A.setPosition(i,n-20*I,0),A.setScale(.5,.5,.5),A.parent=s;var y=A.getComponentInChildren(C);y.string=this.strMisc[I],this.textComponentList[this.textComponentList.length]=y,this.textContentList[this.textContentList.length]=y.string,A.getComponent(d).isChecked=!!I,A.on(d.EventType.TOGGLE,I?this.toggleLightingWithAlbedo:this.toggleCSMColoration,this),this.miscModeToggleList[I]=A}n-=150;for(var D=0;D<this.strComposite.length;D++){var B=D?p(this.compositeModeToggle):this.compositeModeToggle;B.setPosition(i,n-20*D,0),B.setScale(.5,.5,.5),B.parent=this.compositeModeToggle.parent;var w=B.getComponentInChildren(C);w.string=this.strComposite[D],this.textComponentList[this.textComponentList.length]=w,this.textContentList[this.textContentList.length]=w.string,B.on(d.EventType.TOGGLE,this.toggleCompositeMode,this),this.compositeModeToggleList[D]=B}}else console.error("debug-view-runtime-control should be child of Canvas")},s.isTextMatched=function(t,e){var o=new String(t),i=o.search(">");return-1===i?t===e:(o=(o=o.substr(i+1)).substr(0,o.search("<")))===e},s.toggleSingleMode=function(t){for(var e=u.root.debugView,o=t.getComponentInChildren(C),i=0;i<this.strSingle.length;i++)this.isTextMatched(o.string,this.strSingle[i])&&(e.singleMode=i)},s.toggleCompositeMode=function(t){for(var e=u.root.debugView,o=t.getComponentInChildren(C),i=0;i<this.strComposite.length;i++)this.isTextMatched(o.string,this.strComposite[i])&&e.enableCompositeMode(i,t.isChecked)},s.toggleLightingWithAlbedo=function(t){u.root.debugView.lightingWithAlbedo=t.isChecked},s.toggleCSMColoration=function(t){u.root.debugView.csmLayerColoration=t.isChecked},s.enableAllCompositeMode=function(t){var e=u.root.debugView;e.enableAllCompositeMode(!0);for(var o=0;o<this.compositeModeToggleList.length;o++){this.compositeModeToggleList[o].getComponent(d).isChecked=!0}var i=this.miscModeToggleList[0].getComponent(d);i.isChecked=!1,e.csmLayerColoration=!1,(i=this.miscModeToggleList[1].getComponent(d)).isChecked=!0,e.lightingWithAlbedo=!0},s.hideUI=function(t){var e=this.node.getChildByName("Titles"),o=!e.active;this.singleModeToggleList[0].parent.active=o,this.miscModeToggleList[0].parent.active=o,this.compositeModeToggleList[0].parent.active=o,this.EnableAllCompositeModeButton.parent.active=o,e.active=o,this.hideButtonLabel.string=o?"Hide UI":"Show UI"},s.changeTextColor=function(t){this._currentColorIndex++,this._currentColorIndex>=this.strColor.length&&(this._currentColorIndex=0);for(var e=0;e<this.textComponentList.length;e++)this.textComponentList[e].string=this.strColor[this._currentColorIndex]+this.textContentList[e]+"</color>";for(var o=0;o<this.labelComponentList.length;o++)this.labelComponentList[o].color=this.color[this._currentColorIndex]},s.onLoad=function(){},s.update=function(t){},e}(L)).prototype,"compositeModeToggle",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(S.prototype,"singleModeToggle",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(S.prototype,"EnableAllCompositeModeButton",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=S))||T));s._RF.pop()}}}));

System.register("chunks:///_virtual/DirectionSubStateMachine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SubStateMachine.ts","./index.ts"],(function(t){var e,n,i,u,c;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){i=t.SubStateMachine},function(t){u=t.PARAME_NAME_ENUM,c=t.DIRECTION_ORDER_ENUM}],execute:function(){n._RF.push({},"2e589DVJW9Hk4aBy9HhKi51","DirectionSubStateMachine",void 0);t("default",function(t){function n(){return t.apply(this,arguments)||this}return e(n,t),n.prototype.run=function(){var t=this.fsm.getParams(u.DIRECTION).value;this.currentState=this.stateMachines.get(c[t])},n}(i));n._RF.pop()}}}));

System.register("chunks:///_virtual/DoorManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index.ts","./EventManager.ts","./EntityManager.ts","./DataManager.ts","./DorrStateMachine.ts"],(function(t){var n,e,r,o,a,i,s,c,u,f,p;return{setters:[function(t){n=t.inheritsLoose,e=t.asyncToGenerator,r=t.regeneratorRuntime},function(t){o=t.cclegacy,a=t._decorator},function(t){i=t.EVENT_ENUM,s=t.ENTITY_STATE_ENUM},function(t){c=t.default},function(t){u=t.EntityManager},function(t){f=t.default},function(t){p=t.DorrStateMachine}],execute:function(){var h;o._RF.push({},"25334nfpkZDFoGedz1QEJby","DoorManager",void 0);var E=a.ccclass;a.property,t("DoorManager",E("DoorManager")(h=function(t){function o(){return t.apply(this,arguments)||this}n(o,t);var a=o.prototype;return a.init=function(){var n=e(r().mark((function n(e){return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return this.fsm=this.addComponent(p),n.next=3,this.fsm.init();case 3:t.prototype.init.call(this,e),c.Instance.on(i.DOOR_OPEN,this.onOpen,this);case 5:case"end":return n.stop()}}),n,this)})));return function(t){return n.apply(this,arguments)}}(),a.onDestroy=function(){c.Instance.off(i.DOOR_OPEN,this.onOpen)},a.onOpen=function(){f.Instance.enemies.every((function(t){return t.state===s.DEATH}))&&this.state!==s.DEATH&&(this.state=s.DEATH)},o}(u))||h);o._RF.pop()}}}));

System.register("chunks:///_virtual/DorrStateMachine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index.ts","./StateMachine.ts","./IdleSubStateMachine4.ts","./DeathSubStateMachine3.ts"],(function(t){var e,n,i,a,s,r,c,h,u,o,p,f;return{setters:[function(t){e=t.inheritsLoose,n=t.asyncToGenerator,i=t.regeneratorRuntime},function(t){a=t.cclegacy,s=t._decorator,r=t.Animation},function(t){c=t.PARAME_NAME_ENUM},function(t){h=t.getInitParamsTrigger,u=t.getInitParamsNumber,o=t.StateMachine},function(t){p=t.default},function(t){f=t.default}],execute:function(){var l;a._RF.push({},"c38bcL+nRlLb5Tb2NyNbdZ5","DorrStateMachine",void 0);var M=s.ccclass;s.property,t("DorrStateMachine",M("DorrStateMachine")(l=function(t){function a(){return t.apply(this,arguments)||this}e(a,t);var s=a.prototype;return s.init=function(){var t=n(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.animationComponent=this.addComponent(r),this.initParams(),this.initState(),t.next=5,Promise.all(this.waitingList);case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s.initParams=function(){this.params.set(c.IDLE,h()),this.params.set(c.DEATH,h()),this.params.set(c.DIRECTION,u())},s.initState=function(){this.stateMachines.set(c.IDLE,new p(this)),this.stateMachines.set(c.DEATH,new f(this))},s.run=function(){switch(this.currentState){case this.stateMachines.get(c.DEATH):case this.stateMachines.get(c.IDLE):this.params.get(c.DEATH).value?this.currentState=this.stateMachines.get(c.DEATH):this.params.get(c.IDLE).value?this.currentState=this.stateMachines.get(c.IDLE):this.currentState=this.currentState;break;default:this.currentState=this.stateMachines.get(c.IDLE)}},a}(o))||l);a._RF.pop()}}}));

System.register("chunks:///_virtual/DrawManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i,s,n,o,a,r,h,l,c;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,s=t._decorator,n=t.view,o=t.BlockInputEvents,a=t.Graphics,r=t.UITransform,h=t.Color,l=t.game,c=t.Component}],execute:function(){var u;i._RF.push({},"a3dc5toHtdK7LnaPLwRUY2A","DrawManager",void 0);var d=s.ccclass,f=(s.property,n.getVisibleSize().width),p=n.getVisibleSize().height,v=function(t){return t.IDLE="IDLE",t.FADE_IN="FADE_IN",t.FADE_OUT="FADE_OUT",t}(v||{}),A=t("DEFAULT_DURATION",200);t("DrawManager",d("DrawManager")(u=function(t){function i(){for(var e,i=arguments.length,s=new Array(i),n=0;n<i;n++)s[n]=arguments[n];return(e=t.call.apply(t,[this].concat(s))||this).cxt=void 0,e.block=void 0,e.state=v.IDLE,e.duration=void 0,e.oldTime=void 0,e.fadeResolve=void 0,e}e(i,t);var s=i.prototype;return s.init=function(){this.block=this.addComponent(o),this.cxt=this.addComponent(a);var t=this.getComponent(r);t.setAnchorPoint(.5,.5),t.setContentSize(f,p),this.setAlpha(1)},s.setAlpha=function(t){this.cxt.clear(),this.cxt.rect(0,0,f,p),this.cxt.fillColor=new h(0,0,0,255*t),this.cxt.fill(),this.block.enabled=1===t},s.update=function(){var t=(l.totalTime-this.oldTime)/this.duration;switch(this.state){case v.FADE_IN:t<1?this.setAlpha(t):(this.setAlpha(1),this.state=v.IDLE,this.fadeResolve(null));break;case v.FADE_OUT:t<1?this.setAlpha(1-t):(this.setAlpha(0),this.state=v.IDLE,this.fadeResolve(null))}},s.fadeIn=function(t){var e=this;return void 0===t&&(t=A),this.setAlpha(0),this.duration=t,this.oldTime=l.totalTime,this.state=v.FADE_IN,new Promise((function(t){e.fadeResolve=t}))},s.fadeOut=function(t){var e=this;return void 0===t&&(t=A),this.setAlpha(1),this.duration=t,this.oldTime=l.totalTime,this.state=v.FADE_OUT,new Promise((function(t){e.fadeResolve=t}))},s.mask=function(){return this.setAlpha(1),new Promise((function(t){setTimeout(t,A)}))},i}(c))||u);i._RF.pop()}}}));

System.register("chunks:///_virtual/EnemyManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index.ts","./EntityManager.ts","./EventManager.ts","./DataManager.ts"],(function(t){var n,i,e,s,a,o,r,c,h,u,E;return{setters:[function(t){n=t.inheritsLoose,i=t.asyncToGenerator,e=t.regeneratorRuntime},function(t){s=t.cclegacy,a=t._decorator},function(t){o=t.EVENT_ENUM,r=t.ENTITY_STATE_ENUM,c=t.DIRECTION_ENUM},function(t){h=t.EntityManager},function(t){u=t.default},function(t){E=t.default}],execute:function(){var f;s._RF.push({},"d3a41K1pzxFlITqC7yJoLku","EnemyManager",void 0);var T=a.ccclass;a.property,t("EnemyManager",T("EnemyManager")(f=function(t){function s(){return t.apply(this,arguments)||this}n(s,t);var a=s.prototype;return a.init=function(){var n=i(e().mark((function n(i){return e().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t.prototype.init.call(this,i),u.Instance.on(o.PLAYER_MOVE_END,this.onChangeDirection,this),u.Instance.on(o.PLAYER_BORN,this.onChangeDirection,this),u.Instance.on(o.ATTACK_ENEMY,this.onDead,this),this.onChangeDirection(!0);case 5:case"end":return n.stop()}}),n,this)})));return function(t){return n.apply(this,arguments)}}(),a.onDestroy=function(){u.Instance.off(o.PLAYER_MOVE_END,this.onChangeDirection),u.Instance.off(o.PLAYER_BORN,this.onChangeDirection),u.Instance.off(o.ATTACK_ENEMY,this.onDead)},a.onChangeDirection=function(t){if(void 0===t&&(t=!1),this.state!==r.DEATH&&E.Instance.player){var n=E.Instance.player,i=n.x,e=n.y,s=Math.abs(this.x-i),a=Math.abs(this.y-e);(s!==a||t)&&(i>=this.x&&e<=this.y?this.direction=s>a?c.RIGHT:c.TOP:i<=this.x&&e<=this.y?this.direction=s>a?c.LEFT:c.TOP:i<=this.x&&e>=this.y?this.direction=s>a?c.LEFT:c.BOTTOM:i>=this.x&&e>=this.y&&(this.direction=s>a?c.RIGHT:c.BOTTOM))}},a.onDead=function(t){this.state!==r.DEATH&&t===this.id&&(this.state=r.DEATH)},s}(h))||f);s._RF.pop()}}}));

System.register("chunks:///_virtual/EntityManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index.ts","./TileMapManager.ts","./index2.ts"],(function(t){var e,n,i,r,s,o,a,c,u,h,p,d,f,y;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass,i=t.asyncToGenerator,r=t.regeneratorRuntime},function(t){s=t.cclegacy,o=t._decorator,a=t.Component,c=t.Sprite,u=t.UITransform},function(t){h=t.PARAME_NAME_ENUM,p=t.DIRECTION_ORDER_ENUM},function(t){d=t.TILE_WIDTH,f=t.TILE_HEIGHT},function(t){y=t.radomByLen}],execute:function(){var _;s._RF.push({},"c4eb2pUBKhBeILSEgz9eB5h","EntityManager",void 0);var l=o.ccclass;o.property,t("EntityManager",l("EntityManager")(_=function(t){function s(){for(var e,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))||this).id=y(12),e.x=0,e.y=0,e.fsm=void 0,e.type=void 0,e._direction=void 0,e._state=void 0,e}e(s,t);var o=s.prototype;return o.init=function(){var t=i(r().mark((function t(e){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.addComponent(c).sizeMode=c.SizeMode.CUSTOM,this.getComponent(u).setContentSize(4*d,4*f),this.x=e.x,this.y=e.y,this.direction=e.direction,this.state=e.state,this.type=e.type;case 9:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),o.update=function(){this.node.setPosition(this.x*d-1.5*d,-this.y*f+1.5*f)},n(s,[{key:"direction",get:function(){return this._direction},set:function(t){this._direction=t,this.fsm.setParams(h.DIRECTION,p[this._direction])}},{key:"state",get:function(){return this._state},set:function(t){this._state=t,this.fsm.setParams(this._state,!0)}}]),s}(a))||_);s._RF.pop()}}}));

System.register("chunks:///_virtual/EventManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Singleton.ts"],(function(t){var e,n,c,i;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass},function(t){c=t.cclegacy},function(t){i=t.default}],execute:function(){c._RF.push({},"db6c6BTTeJN8LD1HCwbwA1Y","EventManager",void 0);t("default",function(t){function c(){for(var e,n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))||this).eventDic=new Map,e}e(c,t);var i=c.prototype;return i.on=function(t,e,n){this.eventDic.has(t)?this.eventDic.get(t).push({func:e,ctx:n}):this.eventDic.set(t,[{func:e,ctx:n}])},i.off=function(t,e){if(this.eventDic.has(t)){var n=this.eventDic.get(t).findIndex((function(t){return t.func===e}));n>-1&&this.eventDic.get(t).splice(n,1)}},i.emit=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),c=1;c<e;c++)n[c-1]=arguments[c];this.eventDic.has(t)&&this.eventDic.get(t).forEach((function(t){var e=t.func,c=t.ctx;c?e.apply(c,n):e.apply(void 0,n)}))},i.clear=function(){this.eventDic.clear()},i.log=function(){console.log(Object.keys(this.eventDic))},n(c,null,[{key:"Instance",get:function(){return t.GetInstance.call(this)}}]),c}(i));c._RF.pop()}}}));

System.register("chunks:///_virtual/FaderManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Singleton.ts","./DrawManager.ts","./index2.ts"],(function(e){var t,n,r,a,i,o,s,d,u;return{setters:[function(e){t=e.inheritsLoose,n=e.createClass},function(e){r=e.cclegacy,a=e.RenderRoot2D,i=e.director},function(e){o=e.default},function(e){s=e.DEFAULT_DURATION,d=e.DrawManager},function(e){u=e.createUINode}],execute:function(){r._RF.push({},"46e7dsBHQtOFYsEdf8uYKYy","FaderManager",void 0);e("default",function(e){function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this)._fader=null,t}t(r,e);var o=r.prototype;return o.fadeIn=function(e){return void 0===e&&(e=s),this.fader.fadeIn(e)},o.fadeOut=function(e){return void 0===e&&(e=s),this.fader.fadeOut(e)},o.mask=function(){return this.fader.mask()},n(r,[{key:"fader",get:function(){if(this._fader)return this._fader;var e=u();e.addComponent(a);var t=u();t.setParent(e);var n=t.addComponent(d);return this._fader=n,this._fader.init(),i.addPersistRootNode(e),this._fader}}],[{key:"Instance",get:function(){return e.GetInstance.call(this)}}]),r}(o));r._RF.pop()}}}));

System.register("chunks:///_virtual/IdleSubStateMachine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index.ts","./State.ts","./DirectionSubStateMachine.ts"],(function(t){var e,n,o,i,a,s;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,o=t.AnimationClip},function(t){i=t.DIRECTION_ENUM},function(t){a=t.default},function(t){s=t.default}],execute:function(){n._RF.push({},"475e9VBIO9N7pGBUtuXgWEk","IdleSubStateMachine",void 0);var u="texture/player/idle";t("default",function(t){function n(e){var n;return(n=t.call(this,e)||this).fsm=e,n.stateMachines.set(i.TOP,new a(e,u+"/top",o.WrapMode.Loop)),n.stateMachines.set(i.LEFT,new a(e,u+"/left",o.WrapMode.Loop)),n.stateMachines.set(i.RIGHT,new a(e,u+"/right",o.WrapMode.Loop)),n.stateMachines.set(i.BOTTOM,new a(e,u+"/bottom",o.WrapMode.Loop)),n}return e(n,t),n}(s));n._RF.pop()}}}));

System.register("chunks:///_virtual/IdleSubStateMachine2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index.ts","./State.ts","./DirectionSubStateMachine.ts"],(function(t){var e,n,o,i,a,s;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,o=t.AnimationClip},function(t){i=t.DIRECTION_ENUM},function(t){a=t.default},function(t){s=t.default}],execute:function(){n._RF.push({},"6874fmdl6FEzpWQznpwtcPh","IdleSubStateMachine",void 0);var c="texture/ironskeleton/idle";t("default",function(t){function n(e){var n;return(n=t.call(this,e)||this).fsm=e,n.stateMachines.set(i.TOP,new a(e,c+"/top",o.WrapMode.Loop)),n.stateMachines.set(i.LEFT,new a(e,c+"/left",o.WrapMode.Loop)),n.stateMachines.set(i.RIGHT,new a(e,c+"/right",o.WrapMode.Loop)),n.stateMachines.set(i.BOTTOM,new a(e,c+"/bottom",o.WrapMode.Loop)),n}return e(n,t),n}(s));n._RF.pop()}}}));

System.register("chunks:///_virtual/IdleSubStateMachine3.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index.ts","./State.ts","./DirectionSubStateMachine.ts"],(function(e){var t,n,o,i,a,s;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,o=e.AnimationClip},function(e){i=e.DIRECTION_ENUM},function(e){a=e.default},function(e){s=e.default}],execute:function(){n._RF.push({},"6e7d90sT8NJx4n+lvwhVjEa","IdleSubStateMachine",void 0);var c="texture/woodenskeleton/idle";e("default",function(e){function n(t){var n;return(n=e.call(this,t)||this).fsm=t,n.stateMachines.set(i.TOP,new a(t,c+"/top",o.WrapMode.Loop)),n.stateMachines.set(i.LEFT,new a(t,c+"/left",o.WrapMode.Loop)),n.stateMachines.set(i.RIGHT,new a(t,c+"/right",o.WrapMode.Loop)),n.stateMachines.set(i.BOTTOM,new a(t,c+"/bottom",o.WrapMode.Loop)),n}return t(n,e),n}(s));n._RF.pop()}}}));

System.register("chunks:///_virtual/IdleSubStateMachine4.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index.ts","./State.ts","./DirectionSubStateMachine.ts"],(function(t){var e,n,s,i,c;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){s=t.DIRECTION_ENUM},function(t){i=t.default},function(t){c=t.default}],execute:function(){n._RF.push({},"c2415qlRa5DHJfWhH41m5cQ","IdleSubStateMachine",void 0);var a="texture/door/idle";t("default",function(t){function n(e){var n;return(n=t.call(this,e)||this).fsm=e,n.stateMachines.set(s.TOP,new i(e,a+"/top")),n.stateMachines.set(s.LEFT,new i(e,a+"/left")),n.stateMachines.set(s.RIGHT,new i(e,a+"/left")),n.stateMachines.set(s.BOTTOM,new i(e,a+"/top")),n}return e(n,t),n}(c));n._RF.pop()}}}));

System.register("chunks:///_virtual/IdleSubStateMachine5.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index.ts","./State.ts","./DirectionSubStateMachine.ts"],(function(t){var e,n,a,i,o,s,r;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,a=t.AnimationClip},function(t){i=t.DIRECTION_ENUM},function(t){o=t.default,s=t.ANIMATION_SPEED},function(t){r=t.default}],execute:function(){n._RF.push({},"f826b1A0K5Gt43vCdKHxCvc","IdleSubStateMachine",void 0);var c="texture/smoke/idle";t("default",function(t){function n(e){var n;return(n=t.call(this,e)||this).fsm=e,n.stateMachines.set(i.TOP,new o(e,c+"/top",a.WrapMode.Normal,s/1.5)),n.stateMachines.set(i.LEFT,new o(e,c+"/left",a.WrapMode.Normal,s/1.5)),n.stateMachines.set(i.RIGHT,new o(e,c+"/right",a.WrapMode.Normal,s/1.5)),n.stateMachines.set(i.BOTTOM,new o(e,c+"/bottom",a.WrapMode.Normal,s/1.5)),n}return e(n,t),n}(r));n._RF.pop()}}}));

System.register("chunks:///_virtual/index.ts",["cc"],(function(T){var E;return{setters:[function(T){E=T.cclegacy}],execute:function(){E._RF.push({},"c7f76ywekpFPJRD1k2OAbFb","index",void 0);T("TILE_TYPE_ENUM",function(T){return T.WALL_ROW="WALL_ROW",T.WALL_COLUMN="WALL_COLUMN",T.WALL_LEFT_TOP="WALL_LEFT_TOP",T.WALL_RIGHT_TOP="WALL_RIGHT_TOP",T.WALL_LEFT_BOTTOM="WALL_LEFT_BOTTOM",T.WALL_RIGHT_BOTTOM="WALL_RiGHT_BOTTOM",T.CLIFF_LEFT="CLIFF_LEFT",T.CLIFF_CENTER="CLIFF_CENTER",T.CLIFF_RIGHT="CLIFF_RIGHT",T.FLOOR="FLOOR",T}({})),T("EVENT_ENUM",function(T){return T.NEST_LEVEL="NEST_LEVEL",T.PLAYER_CTRL="PLAYER_CTRL",T.PLAYER_MOVE_END="PLAYER_MOVE_END",T.PLAYER_BORN="PLAYER_BORN",T.ATTACK_PLAYER="ATTACK_PLAYER",T.ATTACK_ENEMY="ATTACK_ENEMY",T.DOOR_OPEN="DOOR_OPEN",T.SHOW_SOMKE="SHOW_SOMKE",T.SCREEN_SHAKE="SCREEN_SHAKE",T.RECORD_STEP="RECORD_STEP",T.REVOKE_STEP="REVOKE_STEP",T.RESTART_LEVEL="RESTART_LEVEL",T.OUT_BETTLE="OUT_BETTLE",T}({})),T("CONTROLLER_ENUM",function(T){return T.TOP="TOP",T.BOTTOM="BOTTOM",T.LEFT="LEFT",T.RIGHT="RIGHT",T.TURNLEFT="TURNLEFT",T.TURNRIGHT="TURNRIGHT",T}({})),T("FSM_PARAMS_TYPE_ENUM",function(T){return T.NUMBER="NUMBER",T.TRIGGER="TRIGGER",T.DIRECTION="DIRECTION",T}({})),T("PARAME_NAME_ENUM",function(T){return T.IDLE="IDLE",T.TURNLEFT="TURNLEFT",T.TURNRIGHT="TURNRIGHT",T.BLOCKFRONT="BLOCKFRONT",T.BLOCKLEFT="BLOCKLEFT",T.BLOCKRIGHT="BLOCKRIGHT",T.BLOCKBACK="BLOCKBACK",T.BLOCKTURNLEFT="BLOCKTURNLEFT",T.BLOCKTURNRIGHT="BLOCKTURNRIGHT",T.DIRECTION="DIRECTION",T.ATTACK="ATTACK",T.DEATH="DEATH",T.AIRDEATH="AIRDEATH",T.SPIKES_CUR_COUNT="SPIKES_CUR_COUNT",T.SPIKES_TOTAL_COUNT="SPIKES_TOTAL_COUNT",T}({})),T("DIRECTION_ENUM",function(T){return T.TOP="TOP",T.BOTTOM="BOTTOM",T.LEFT="LEFT",T.RIGHT="RIGHT",T}({})),T("ENTITY_STATE_ENUM",function(T){return T.IDLE="IDLE",T.TURNLEFT="TURNLEFT",T.TURNRIGHT="TURNRIGHT",T.BLOCKFRONT="BLOCKFRONT",T.BLOCKLEFT="BLOCKLEFT",T.BLOCKRIGHT="BLOCKRIGHT",T.BLOCKBACK="BLOCKBACK",T.BLOCKTURNLEFT="BLOCKTURNLEFT",T.BLOCKTURNRIGHT="BLOCKTURNRIGHT",T.ATTACK="ATTACK",T.DEATH="DEATH",T.AIRDEATH="AIRDEATH",T}({})),T("DIRECTION_ORDER_ENUM",function(T){return T[T.TOP=0]="TOP",T[T.BOTTOM=1]="BOTTOM",T[T.LEFT=2]="LEFT",T[T.RIGHT=3]="RIGHT",T}({})),T("ENTITY_TYPE_ENUM",function(T){return T.PLAYER="PLAYER",T.SKELETON_WOODEN="SKELETON_WOODEN",T.SKELETON_IRON="SKELETON_IRON",T.DOOR="DOOR",T.BURST="BURST",T.SPIKES_ONE="SPIKES_ONE",T.SPIKES_TWO="SPIKES_TWO",T.SPIKES_THREE="SPIKES_THREE",T.SPIKES_FOUR="SPIKES_FOUR",T.SOMKE="SOMKE",T}({})),T("SPIKES_TYPE_MAP_TOTAL_COUNT_ENUM",function(T){return T[T.SPIKES_ONE=2]="SPIKES_ONE",T[T.SPIKES_TWO=3]="SPIKES_TWO",T[T.SPIKES_THREE=4]="SPIKES_THREE",T[T.SPIKES_FOUR=5]="SPIKES_FOUR",T}({})),T("SPIKES_COUNT_ENUM",function(T){return T.ZERO="ZERO",T.ONE="ONE",T.TWO="TWO",T.THREE="THREE",T.FOUR="FOUR",T.FIVE="FIVE",T}({})),T("SPIKES_COUNT_MAP_NUMBER_ENUM",function(T){return T[T.ZERO=0]="ZERO",T[T.ONE=1]="ONE",T[T.TWO=2]="TWO",T[T.THREE=3]="THREE",T[T.FOUR=4]="FOUR",T[T.FIVE=5]="FIVE",T}({})),T("SHAKE_TYPE_ENUM",function(T){return T.TOP="TOP",T.BOTTOM="BOTTOM",T.LEFT="LEFT",T.RIGHT="RIGHT",T}({})),T("SCENE_ENUM",function(T){return T.Loading="Loading",T.Start="Start",T.Battle="Battle",T}({}));E._RF.pop()}}}));

System.register("chunks:///_virtual/index2.ts",["cc"],(function(n){var r,e,t,o;return{setters:[function(n){r=n.cclegacy,e=n.Node,t=n.UITransform,o=n.Layers}],execute:function(){r._RF.push({},"deee3hICUBPdoEqROemFpjl","index",void 0);n("createUINode",(function(n){void 0===n&&(n="");var r=new e(n);return r.addComponent(t).setAnchorPoint(0,1),r.layer=1<<o.nameToLayer("UI_2D"),r}));var a=/\((\d+)\)/,u=function(n){return parseInt(n.match(a)[1]||"0")};n("radomByLen",(function(n){return Array.from({length:n}).reduce((function(n,r){return n+Math.floor(10*Math.random())}),"")})),n("sortSpriteFrame",(function(n){return n.sort((function(n,r){return u(n.name)-u(r.name)}))})),n("radomByRange",(function(n,r){return Math.floor(Math.random()*(r-n)+n)}));r._RF.pop()}}}));

System.register("chunks:///_virtual/index3.ts",["cc","./Level1.ts","./Level2.ts","./Level3.ts","./Level4.ts","./Level5.ts","./Level6.ts","./Level7.ts","./Level8.ts","./Level9.ts","./Level10.ts","./Level11.ts","./Level12.ts","./Level13.ts","./Level14.ts","./Level15.ts","./Level16.ts","./Level17.ts","./Level18.ts","./Level19.ts","./Level20.ts","./Level21.ts"],(function(e){var l,t,n,u,f,v,c,i,s,o,a,d,L,r,p,x,y,_,g,h,m,F;return{setters:[function(e){l=e.cclegacy},function(e){t=e.default},function(e){n=e.default},function(e){u=e.default},function(e){f=e.default},function(e){v=e.default},function(e){c=e.default},function(e){i=e.default},function(e){s=e.default},function(e){o=e.default},function(e){a=e.default},function(e){d=e.default},function(e){L=e.default},function(e){r=e.default},function(e){p=e.default},function(e){x=e.default},function(e){y=e.default},function(e){_=e.default},function(e){g=e.default},function(e){h=e.default},function(e){m=e.default},function(e){F=e.default}],execute:function(){l._RF.push({},"e326a/INqBI+oyAvGtOHZmD","index",void 0);e("default",{level1:t,level2:n,level3:u,level4:f,level5:v,level6:c,level7:i,level8:s,level9:o,level10:a,level11:d,level12:L,level13:r,level14:p,level15:x,level16:y,level17:_,level18:g,level19:h,level20:m,level21:F});l._RF.pop()}}}));

System.register("chunks:///_virtual/IronSkeletonManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EnemyManager.ts","./IronSkeletonStateMachine.ts"],(function(n){var t,e,r,o,a,i,c;return{setters:[function(n){t=n.inheritsLoose,e=n.asyncToGenerator,r=n.regeneratorRuntime},function(n){o=n.cclegacy,a=n._decorator},function(n){i=n.EnemyManager},function(n){c=n.IronSkeletonStateMachine}],execute:function(){var s;o._RF.push({},"0c1b69QrG9B1Lplrpo1Pjw2","IronSkeletonManager",void 0);var u=a.ccclass;a.property,n("IronSkeletonManager",u("IronSkeletonManager")(s=function(n){function o(){return n.apply(this,arguments)||this}t(o,n);var a=o.prototype;return a.init=function(){var t=e(r().mark((function t(e){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.fsm=this.addComponent(c),t.next=3,this.fsm.init();case 3:n.prototype.init.call(this,e);case 4:case"end":return t.stop()}}),t,this)})));return function(n){return t.apply(this,arguments)}}(),a.onDestroy=function(){n.prototype.onDestroy.call(this)},o}(i))||s);o._RF.pop()}}}));

System.register("chunks:///_virtual/IronSkeletonStateMachine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index.ts","./StateMachine.ts","./IdleSubStateMachine2.ts","./DeathSubMachine.ts"],(function(t){var e,n,i,a,s,r,c,h,o,u,p,f;return{setters:[function(t){e=t.inheritsLoose,n=t.asyncToGenerator,i=t.regeneratorRuntime},function(t){a=t.cclegacy,s=t._decorator,r=t.Animation},function(t){c=t.PARAME_NAME_ENUM},function(t){h=t.getInitParamsTrigger,o=t.getInitParamsNumber,u=t.StateMachine},function(t){p=t.default},function(t){f=t.default}],execute:function(){var l;a._RF.push({},"4f920VY+IxOKIuKZobUI6XO","IronSkeletonStateMachine",void 0);var S=s.ccclass;s.property,t("IronSkeletonStateMachine",S("IronSkeletonStateMachine")(l=function(t){function a(){return t.apply(this,arguments)||this}e(a,t);var s=a.prototype;return s.init=function(){var t=n(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.animationComponent=this.addComponent(r),this.initParams(),this.initState(),t.next=5,Promise.all(this.waitingList);case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s.initParams=function(){this.params.set(c.IDLE,h()),this.params.set(c.DIRECTION,o()),this.params.set(c.DEATH,h())},s.initState=function(){this.stateMachines.set(c.IDLE,new p(this)),this.stateMachines.set(c.DEATH,new f(this))},s.run=function(){switch(this.currentState){case this.stateMachines.get(c.IDLE):case this.stateMachines.get(c.DEATH):this.params.get(c.DEATH).value?this.currentState=this.stateMachines.get(c.DEATH):this.params.get(c.IDLE).value?this.currentState=this.stateMachines.get(c.IDLE):this.currentState=this.currentState;break;default:this.currentState=this.stateMachines.get(c.IDLE)}},a}(u))||l);a._RF.pop()}}}));

System.register("chunks:///_virtual/Level1.ts",["cc","./index.ts"],(function(L){var O,e,t,s,c;return{setters:[function(L){O=L.cclegacy},function(L){e=L.TILE_TYPE_ENUM,t=L.DIRECTION_ENUM,s=L.ENTITY_STATE_ENUM,c=L.ENTITY_TYPE_ENUM}],execute:function(){O._RF.push({},"2f962jlTChJv7cdAekC2FP6","Level1",void 0);var r=[[{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:16,type:e.WALL_LEFT_TOP},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:13,type:e.WALL_LEFT_BOTTOM},{src:18,type:e.CLIFF_LEFT}],[{src:16,type:e.WALL_LEFT_TOP},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:14,type:e.WALL_RIGHT_BOTTOM},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:21,type:e.WALL_RIGHT_BOTTOM},{src:17,type:e.CLIFF_CENTER}],[{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:17,type:e.CLIFF_CENTER}],[{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:16,type:e.WALL_LEFT_TOP},{src:13,type:e.WALL_LEFT_BOTTOM},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:20,type:e.WALL_LEFT_BOTTOM},{src:17,type:e.CLIFF_CENTER}],[{src:15,type:e.WALL_RIGHT_TOP},{src:13,type:e.WALL_LEFT_BOTTOM},{src:1,type:e.FLOOR},{src:9,type:e.WALL_ROW},{src:15,type:e.WALL_RIGHT_TOP},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:14,type:e.WALL_RIGHT_BOTTOM},{src:19,type:e.CLIFF_RIGHT}],[{src:null,type:null},{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:9,type:e.WALL_ROW},{src:16,type:e.WALL_LEFT_TOP},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:13,type:e.WALL_LEFT_BOTTOM},{src:18,type:e.CLIFF_LEFT}],[{src:16,type:e.WALL_LEFT_TOP},{src:14,type:e.WALL_RIGHT_BOTTOM},{src:1,type:e.FLOOR},{src:15,type:e.WALL_RIGHT_TOP},{src:14,type:e.WALL_RIGHT_BOTTOM},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:21,type:e.WALL_RIGHT_BOTTOM},{src:19,type:e.CLIFF_RIGHT}],[{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:17,type:e.CLIFF_CENTER}],[{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:16,type:e.WALL_LEFT_TOP},{src:13,type:e.WALL_LEFT_BOTTOM},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:20,type:e.WALL_LEFT_BOTTOM},{src:17,type:e.CLIFF_CENTER}],[{src:15,type:e.WALL_RIGHT_TOP},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:14,type:e.WALL_RIGHT_BOTTOM},{src:15,type:e.WALL_RIGHT_TOP},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:14,type:e.WALL_RIGHT_BOTTOM},{src:19,type:e.CLIFF_RIGHT}]],p={x:2,y:8,direction:t.TOP,state:s.IDLE,type:c.PLAYER},y=[{x:7,y:6,direction:t.TOP,state:s.IDLE,type:c.SKELETON_WOODEN}],_={x:7,y:8,direction:t.BOTTOM,state:s.IDLE,type:c.DOOR};L("default",{mapInfo:r,player:p,enemies:y,spikes:[],bursts:[],door:_});O._RF.pop()}}}));

System.register("chunks:///_virtual/Level10.ts",["cc","./index.ts"],(function(L){var t,e,O,c,s;return{setters:[function(L){t=L.cclegacy},function(L){e=L.TILE_TYPE_ENUM,O=L.DIRECTION_ENUM,c=L.ENTITY_STATE_ENUM,s=L.ENTITY_TYPE_ENUM}],execute:function(){t._RF.push({},"1fecbstb49NG79QlqhPAtAc","Level10",void 0);var y=[[{src:16,type:e.WALL_LEFT_TOP},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:25,type:e.WALL_LEFT_TOP},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:23,type:e.WALL_LEFT_BOTTOM},{src:18,type:e.CLIFF_LEFT}],[{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:21,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:17,type:e.CLIFF_CENTER}],[{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:17,type:e.CLIFF_CENTER},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:17,type:e.CLIFF_CENTER},{src:20,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER}],[{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:24,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER},{src:null,type:null},{src:1,type:e.FLOOR},{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER}],[{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:17,type:e.CLIFF_CENTER},{src:1,type:e.FLOOR},{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER}],[{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:20,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER}],[{src:21,type:e.WALL_RIGHT_TOP},{src:1,type:e.FLOOR},{src:15,type:e.WALL_RIGHT_TOP},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:14,type:e.WALL_RIGHT_BOTTOM},{src:19,type:e.CLIFF_RIGHT}]],r={x:1,y:7,direction:O.TOP,state:c.IDLE,type:s.PLAYER},p=[{x:1,y:3,direction:O.BOTTOM,state:c.IDLE,type:s.SKELETON_WOODEN},{x:2,y:4,direction:O.BOTTOM,state:c.IDLE,type:s.SKELETON_IRON},{x:5,y:5,direction:O.LEFT,state:c.IDLE,type:s.SKELETON_WOODEN}],R=[{x:4,y:3,type:s.SPIKES_THREE,count:0}],_=[{x:3,y:4,state:c.IDLE,type:s.BURST,direction:O.TOP},{x:3,y:5,state:c.IDLE,type:s.BURST,direction:O.TOP}],E={x:6,y:1,direction:O.LEFT,state:c.IDLE,type:s.DOOR};L("default",{mapInfo:y,player:r,enemies:p,spikes:R,bursts:_,door:E});t._RF.pop()}}}));

System.register("chunks:///_virtual/Level11.ts",["cc","./index.ts"],(function(t){var L,e,O,y,c;return{setters:[function(t){L=t.cclegacy},function(t){e=t.TILE_TYPE_ENUM,O=t.DIRECTION_ENUM,y=t.ENTITY_STATE_ENUM,c=t.ENTITY_TYPE_ENUM}],execute:function(){L._RF.push({},"b9a87dPZclC969UjL6yFMA/","Level11",void 0);var s=[[{src:16,type:e.WALL_LEFT_TOP},{src:5,type:e.WALL_COLUMN},{src:23,type:e.WALL_RIGHT_BOTTOM},{src:1,type:e.FLOOR},{src:22,type:e.WALL_RIGHT_TOP},{src:13,type:e.WALL_LEFT_BOTTOM},{src:18,type:e.CLIFF_LEFT}],[{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER}],[{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER}],[{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:24,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER},{src:null,type:null},{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER}],[{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER}],[{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:17,type:e.CLIFF_CENTER},{src:1,type:e.FLOOR},{src:22,type:e.WALL_RIGHT_TOP},{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER}],[{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER}],[{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:24,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER}],[{src:15,type:e.WALL_RIGHT_TOP},{src:23,type:e.WALL_RIGHT_BOTTOM},{src:1,type:e.FLOOR},{src:17,type:e.CLIFF_CENTER},{src:null,type:null},{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER}],[{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER}],[{src:22,type:e.WALL_RIGHT_TOP},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:14,type:e.WALL_RIGHT_BOTTOM},{src:19,type:e.CLIFF_RIGHT}]],r={x:0,y:3,direction:O.RIGHT,state:y.IDLE,type:c.PLAYER},p=[{x:4,y:2,direction:O.LEFT,state:y.IDLE,type:c.SKELETON_WOODEN},{x:6,y:1,direction:O.LEFT,state:y.IDLE,type:c.SKELETON_IRON},{x:9,y:1,direction:O.LEFT,state:y.IDLE,type:c.SKELETON_IRON}],R=[{x:4,y:1,type:c.SPIKES_THREE,count:0},{x:6,y:3,type:c.SPIKES_TWO,count:0}],_=[{x:3,y:3,state:y.IDLE,type:c.BURST,direction:O.TOP},{x:3,y:4,state:y.IDLE,type:c.BURST,direction:O.TOP},{x:5,y:2,state:y.IDLE,type:c.BURST,direction:O.TOP},{x:8,y:3,state:y.IDLE,type:c.BURST,direction:O.TOP},{x:8,y:4,state:y.IDLE,type:c.BURST,direction:O.TOP}],T={x:9,y:0,direction:O.BOTTOM,state:y.IDLE,type:c.DOOR};t("default",{mapInfo:s,player:r,enemies:p,spikes:R,bursts:_,door:T});L._RF.pop()}}}));

System.register("chunks:///_virtual/Level12.ts",["cc","./index.ts"],(function(e){var t,L,s,c,r;return{setters:[function(e){t=e.cclegacy},function(e){L=e.TILE_TYPE_ENUM,s=e.DIRECTION_ENUM,c=e.ENTITY_STATE_ENUM,r=e.ENTITY_TYPE_ENUM}],execute:function(){t._RF.push({},"4c34bFxZv9NjKFpsFZJvl8z","Level12",void 0);var y=[[{src:20,type:L.WALL_LEFT_TOP},{src:1,type:L.FLOOR},{src:18,type:L.CLIFF_LEFT},{src:null,type:null},{src:null,type:null},{src:20,type:L.WALL_LEFT_BOTTOM},{src:18,type:L.CLIFF_LEFT}],[{src:9,type:L.WALL_ROW},{src:1,type:L.FLOOR},{src:17,type:L.CLIFF_CENTER},{src:null,type:null},{src:null,type:null},{src:9,type:L.WALL_ROW},{src:17,type:L.CLIFF_CENTER}],[{src:9,type:L.WALL_ROW},{src:1,type:L.FLOOR},{src:17,type:L.CLIFF_CENTER},{src:null,type:null},{src:null,type:null},{src:21,type:L.WALL_ROW},{src:17,type:L.CLIFF_CENTER}],[{src:9,type:L.WALL_ROW},{src:1,type:L.FLOOR},{src:17,type:L.CLIFF_CENTER},{src:null,type:null},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:17,type:L.CLIFF_CENTER}],[{src:9,type:L.WALL_ROW},{src:1,type:L.FLOOR},{src:17,type:L.CLIFF_CENTER},{src:null,type:null},{src:1,type:L.FLOOR},{src:20,type:L.WALL_ROW},{src:17,type:L.CLIFF_CENTER}],[{src:9,type:L.WALL_ROW},{src:1,type:L.FLOOR},{src:22,type:L.WALL_ROW},{src:23,type:L.WALL_ROW},{src:1,type:L.FLOOR},{src:9,type:L.WALL_ROW},{src:17,type:L.CLIFF_CENTER}],[{src:9,type:L.WALL_ROW},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:9,type:L.WALL_ROW},{src:17,type:L.CLIFF_CENTER}],[{src:9,type:L.WALL_ROW},{src:1,type:L.FLOOR},{src:17,type:L.CLIFF_CENTER},{src:null,type:null},{src:null,type:null},{src:9,type:L.WALL_ROW},{src:17,type:L.CLIFF_CENTER}],[{src:21,type:L.WALL_ROW},{src:1,type:L.FLOOR},{src:17,type:L.CLIFF_CENTER},{src:null,type:null},{src:null,type:null},{src:21,type:L.WALL_ROW},{src:17,type:L.CLIFF_CENTER}]],p={x:3,y:5,direction:s.TOP,state:c.IDLE,type:r.PLAYER},O=[{x:1,y:1,direction:s.BOTTOM,state:c.IDLE,type:r.SKELETON_IRON},{x:6,y:2,direction:s.LEFT,state:c.IDLE,type:r.SKELETON_WOODEN}],F=[{x:4,y:2,state:c.IDLE,type:r.BURST,direction:s.TOP},{x:4,y:3,state:c.IDLE,type:r.BURST,direction:s.TOP}],E={x:0,y:1,direction:s.LEFT,state:c.IDLE,type:r.DOOR};e("default",{mapInfo:y,player:p,enemies:O,spikes:[],bursts:F,door:E});t._RF.pop()}}}));

System.register("chunks:///_virtual/Level13.ts",["cc","./index.ts"],(function(t){var e,L,s,c,r;return{setters:[function(t){e=t.cclegacy},function(t){L=t.TILE_TYPE_ENUM,s=t.DIRECTION_ENUM,c=t.ENTITY_STATE_ENUM,r=t.ENTITY_TYPE_ENUM}],execute:function(){e._RF.push({},"66178b1A49FYpbMjzRDHQKO","Level13",void 0);var y=[[{src:16,type:L.WALL_LEFT_TOP},{src:5,type:L.WALL_COLUMN},{src:5,type:L.WALL_COLUMN},{src:5,type:L.WALL_COLUMN},{src:5,type:L.WALL_COLUMN},{src:5,type:L.WALL_COLUMN},{src:23,type:L.WALL_LEFT_BOTTOM},{src:18,type:L.CLIFF_LEFT}],[{src:9,type:L.WALL_ROW},{src:17,type:L.CLIFF_CENTER},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:17,type:L.CLIFF_CENTER}],[{src:9,type:L.WALL_ROW},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:16,type:L.WALL_LEFT_TOP},{src:5,type:L.WALL_COLUMN},{src:5,type:L.WALL_COLUMN},{src:23,type:L.WALL_RIGHT_BOTTOM},{src:19,type:L.CLIFF_RIGHT}],[{src:9,type:L.WALL_ROW},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:9,type:L.WALL_ROW},{src:17,type:L.CLIFF_CENTER},{src:null,type:null},{src:null,type:null},{src:null,type:null}],[{src:9,type:L.WALL_ROW},{src:1,type:L.FLOOR},{src:17,type:L.CLIFF_CENTER},{src:9,type:L.WALL_ROW},{src:17,type:L.CLIFF_CENTER},{src:null,type:null},{src:null,type:null},{src:null,type:null}],[{src:9,type:L.WALL_ROW},{src:1,type:L.FLOOR},{src:17,type:L.CLIFF_CENTER},{src:9,type:L.WALL_ROW},{src:17,type:L.CLIFF_CENTER},{src:null,type:null},{src:null,type:null},{src:null,type:null}],[{src:9,type:L.WALL_ROW},{src:17,type:L.CLIFF_CENTER},{src:1,type:L.FLOOR},{src:9,type:L.WALL_ROW},{src:17,type:L.CLIFF_CENTER},{src:null,type:null},{src:null,type:null},{src:null,type:null}],[{src:9,type:L.WALL_ROW},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:9,type:L.WALL_ROW},{src:17,type:L.CLIFF_CENTER},{src:null,type:null},{src:null,type:null},{src:null,type:null}],[{src:9,type:L.WALL_ROW},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:9,type:L.WALL_ROW},{src:17,type:L.CLIFF_CENTER},{src:null,type:null},{src:null,type:null},{src:null,type:null}],[{src:9,type:L.WALL_ROW},{src:1,type:L.FLOOR},{src:17,type:L.CLIFF_CENTER},{src:9,type:L.WALL_ROW},{src:17,type:L.CLIFF_CENTER},{src:null,type:null},{src:null,type:null},{src:null,type:null}],[{src:21,type:L.WALL_ROW},{src:1,type:L.FLOOR},{src:22,type:L.WALL_RIGHT_TOP},{src:14,type:L.WALL_ROW},{src:19,type:L.CLIFF_RIGHT},{src:null,type:null},{src:null,type:null},{src:null,type:null}]],l={x:10,y:1,direction:s.LEFT,state:c.IDLE,type:r.PLAYER},p=[{x:1,y:4,direction:s.RIGHT,state:c.IDLE,type:r.SKELETON_WOODEN},{x:3,y:2,direction:s.RIGHT,state:c.IDLE,type:r.SKELETON_IRON},{x:5,y:1,direction:s.RIGHT,state:c.IDLE,type:r.SKELETON_WOODEN}],O=[{x:1,y:1,state:c.IDLE,type:r.BURST,direction:s.TOP},{x:5,y:2,state:c.IDLE,type:r.BURST,direction:s.TOP}],n={x:1,y:6,direction:s.BOTTOM,state:c.IDLE,type:r.DOOR};t("default",{mapInfo:y,player:l,enemies:p,spikes:[],bursts:O,door:n});e._RF.pop()}}}));

System.register("chunks:///_virtual/Level14.ts",["cc","./index.ts"],(function(t){var L,e,O,y,s;return{setters:[function(t){L=t.cclegacy},function(t){e=t.TILE_TYPE_ENUM,O=t.DIRECTION_ENUM,y=t.ENTITY_STATE_ENUM,s=t.ENTITY_TYPE_ENUM}],execute:function(){L._RF.push({},"ede62phB/9O5rB4I0dbz+Hl","Level14",void 0);var c=[[{src:22,type:e.WALL_LEFT_TOP},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:13,type:e.WALL_LEFT_BOTTOM},{src:18,type:e.CLIFF_LEFT}],[{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:17,type:e.CLIFF_CENTER},{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER}],[{src:20,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:9,type:e.WALL_ROW},{src:19,type:e.CLIFF_RIGHT}],[{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:17,type:e.CLIFF_CENTER},{src:1,type:e.FLOOR},{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER}],[{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:9,type:e.WALL_ROW},{src:19,type:e.CLIFF_CENTER}],[{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:17,type:e.CLIFF_RIGHT},{src:1,type:e.FLOOR},{src:17,type:e.CLIFF_RIGHT},{src:9,type:e.WALL_ROW},{src:19,type:e.CLIFF_CENTER}],[{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:9,type:e.WALL_ROW},{src:19,type:e.CLIFF_CENTER}],[{src:27,type:e.WALL_ROW},{src:5,type:e.WALL_COLUMN},{src:23,type:e.WALL_RIGHT_BOTTOM},{src:19,type:e.CLIFF_CENTER},{src:null,type:null},{src:9,type:e.WALL_ROW},{src:19,type:e.CLIFF_CENTER}],[{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:17,type:e.CLIFF_CENTER},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:9,type:e.WALL_ROW},{src:19,type:e.CLIFF_CENTER}],[{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:16,type:e.WALL_LEFT_TOP},{src:5,type:e.WALL_COLUMN},{src:14,type:e.WALL_RIGHT_BOTTOM},{src:19,type:e.CLIFF_CENTER}],[{src:21,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:22,type:e.WALL_RIGHT_TOP},{src:14,type:e.WALL_RIGHT_BOTTOM},{src:17,type:e.CLIFF_CENTER},{src:null,type:null},{src:null,type:null}]],r={x:1,y:0,direction:O.BOTTOM,state:y.IDLE,type:s.PLAYER},p=[{x:3,y:4,direction:O.TOP,state:y.IDLE,type:s.SKELETON_WOODEN},{x:8,y:3,direction:O.LEFT,state:y.IDLE,type:s.SKELETON_WOODEN}],R=[{x:3,y:2,type:s.SPIKES_TWO,count:0}],F=[{x:1,y:4,state:y.IDLE,type:s.BURST,direction:O.TOP},{x:5,y:2,state:y.IDLE,type:s.BURST,direction:O.TOP},{x:5,y:4,state:y.IDLE,type:s.BURST,direction:O.TOP},{x:7,y:3,state:y.IDLE,type:s.BURST,direction:O.TOP},{x:7,y:4,state:y.IDLE,type:s.BURST,direction:O.TOP},{x:8,y:2,state:y.IDLE,type:s.BURST,direction:O.TOP}],_={x:10,y:1,direction:O.LEFT,state:y.IDLE,type:s.DOOR};t("default",{mapInfo:c,player:r,enemies:p,spikes:R,bursts:F,door:_});L._RF.pop()}}}));

System.register("chunks:///_virtual/Level15.ts",["cc","./index.ts"],(function(L){var t,e,c,s,y;return{setters:[function(L){t=L.cclegacy},function(L){e=L.TILE_TYPE_ENUM,c=L.DIRECTION_ENUM,s=L.ENTITY_STATE_ENUM,y=L.ENTITY_TYPE_ENUM}],execute:function(){t._RF.push({},"aa14euFG8dDZaiMAMbd4tsX","Level15",void 0);var r=[[{src:20,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:22,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:25,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:13,type:e.WALL_LEFT_BOTTOM},{src:18,type:e.CLIFF_LEFT}],[{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:21,type:e.WALL_RIGHT_TOP},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER}],[{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER}],[{src:15,type:e.WALL_RIGHT_TOP},{src:5,type:e.WALL_COLUMN},{src:13,type:e.WALL_LEFT_BOTTOM},{src:1,type:e.FLOOR},{src:17,type:e.CLIFF_CENTER},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER}],[{src:null,type:null},{src:null,type:null},{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER},{src:null,type:null},{src:null,type:null},{src:1,type:e.FLOOR},{src:22,type:e.WALL_ROW},{src:28,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER}],[{src:null,type:null},{src:null,type:null},{src:15,type:e.WALL_RIGHT_TOP},{src:13,type:e.WALL_LEFT_BOTTOM},{src:18,type:e.CLIFF_LEFT},{src:null,type:null},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER}],[{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER},{src:null,type:null},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER}],[{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:15,type:e.WALL_RIGHT_TOP},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:23,type:e.WALL_RIGHT_BOTTOM},{src:1,type:e.FLOOR},{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER}]],O={x:0,y:1,direction:c.RIGHT,state:s.IDLE,type:y.PLAYER},p=[{x:2,y:4,direction:c.TOP,state:s.IDLE,type:y.SKELETON_WOODEN},{x:4,y:6,direction:c.TOP,state:s.IDLE,type:y.SKELETON_WOODEN}],_=[{x:1,y:2,type:y.SPIKES_THREE,count:0},{x:2,y:2,type:y.SPIKES_THREE,count:0},{x:2,y:6,type:y.SPIKES_TWO,count:0}],l={x:7,y:7,direction:c.LEFT,state:s.IDLE,type:y.DOOR};L("default",{mapInfo:r,player:O,enemies:p,spikes:_,bursts:[],door:l});t._RF.pop()}}}));

System.register("chunks:///_virtual/Level16.ts",["cc","./index.ts"],(function(L){var t,e,O,y,c;return{setters:[function(L){t=L.cclegacy},function(L){e=L.TILE_TYPE_ENUM,O=L.DIRECTION_ENUM,y=L.ENTITY_STATE_ENUM,c=L.ENTITY_TYPE_ENUM}],execute:function(){t._RF.push({},"cae40k10MFKjZ8iDr55c2vX","Level16",void 0);var s=[[{src:20,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:20,type:e.WALL_ROW},{src:18,type:e.CLIFF_LEFT},{src:null,type:null},{src:null,type:null},{src:20,type:e.WALL_LEFT_BOTTOM},{src:1,type:e.FLOOR},{src:20,type:e.WALL_ROW},{src:18,type:e.CLIFF_LEFT}],[{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER},{src:16,type:e.WALL_LEFT_TOP},{src:5,type:e.WALL_COLUMN},{src:14,type:e.WALL_RIGHT_BOTTOM},{src:1,type:e.FLOOR},{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER}],[{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER},{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER}],[{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:15,type:e.WALL_RIGHT_TOP},{src:5,type:e.WALL_COLUMN},{src:14,type:e.WALL_RIGHT_BOTTOM},{src:17,type:e.CLIFF_CENTER},{src:null,type:null},{src:null,type:null},{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER}],[{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER}],[{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:16,type:e.WALL_LEFT_TOP},{src:14,type:e.WALL_RIGHT_BOTTOM},{src:19,type:e.CLIFF_RIGHT}],[{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:9,type:e.WALL_ROW},{src:19,type:e.CLIFF_RIGHT},{src:null,type:null}],[{src:15,type:e.WALL_RIGHT_TOP},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:14,type:e.WALL_RIGHT_BOTTOM},{src:19,type:e.CLIFF_RIGHT},{src:null,type:null}]],r={x:0,y:1,direction:O.RIGHT,state:y.IDLE,type:c.PLAYER},p=[{x:4,y:4,direction:O.LEFT,state:y.IDLE,type:c.SKELETON_WOODEN},{x:5,y:3,direction:O.LEFT,state:y.IDLE,type:c.SKELETON_WOODEN},{x:6,y:2,direction:O.LEFT,state:y.IDLE,type:c.SKELETON_WOODEN},{x:4,y:6,direction:O.TOP,state:y.IDLE,type:c.SKELETON_IRON},{x:4,y:7,direction:O.TOP,state:y.IDLE,type:c.SKELETON_IRON}],R=[{x:4,y:5,type:c.SPIKES_THREE,count:0},{x:5,y:5,type:c.SPIKES_TWO,count:0},{x:6,y:5,type:c.SPIKES_ONE,count:0}],_=[{x:3,y:5,state:y.IDLE,type:c.BURST,direction:O.TOP},{x:3,y:6,state:y.IDLE,type:c.BURST,direction:O.TOP},{x:3,y:7,state:y.IDLE,type:c.BURST,direction:O.TOP}],T={x:0,y:7,direction:O.LEFT,state:y.IDLE,type:c.DOOR};L("default",{mapInfo:s,player:r,enemies:p,spikes:R,bursts:_,door:T});t._RF.pop()}}}));

System.register("chunks:///_virtual/Level17.ts",["cc","./index.ts"],(function(t){var e,L,y,O,c;return{setters:[function(t){e=t.cclegacy},function(t){L=t.TILE_TYPE_ENUM,y=t.DIRECTION_ENUM,O=t.ENTITY_STATE_ENUM,c=t.ENTITY_TYPE_ENUM}],execute:function(){e._RF.push({},"3905fOM4K9M5qV2YdJsWFc3","Level17",void 0);var p=[[{src:20,type:L.WALL_ROW},{src:1,type:L.FLOOR},{src:22,type:L.WALL_LEFT_TOP},{src:5,type:L.WALL_COLUMN},{src:5,type:L.WALL_COLUMN},{src:5,type:L.WALL_COLUMN},{src:5,type:L.WALL_COLUMN},{src:5,type:L.WALL_COLUMN},{src:13,type:L.WALL_LEFT_BOTTOM},{src:18,type:L.CLIFF_LEFT}],[{src:9,type:L.WALL_ROW},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:17,type:L.CLIFF_CENTER},{src:1,type:L.FLOOR},{src:9,type:L.WALL_ROW},{src:17,type:L.CLIFF_CENTER}],[{src:9,type:L.WALL_ROW},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:17,type:L.CLIFF_CENTER},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:17,type:L.CLIFF_CENTER},{src:1,type:L.FLOOR},{src:9,type:L.WALL_ROW},{src:17,type:L.CLIFF_CENTER}],[{src:9,type:L.WALL_ROW},{src:1,type:L.FLOOR},{src:17,type:L.CLIFF_CENTER},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:17,type:L.CLIFF_CENTER},{src:1,type:L.FLOOR},{src:9,type:L.WALL_ROW},{src:17,type:L.CLIFF_CENTER}],[{src:9,type:L.WALL_ROW},{src:1,type:L.FLOOR},{src:17,type:L.CLIFF_CENTER},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:17,type:L.CLIFF_CENTER},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:9,type:L.WALL_ROW},{src:17,type:L.CLIFF_CENTER}],[{src:9,type:L.WALL_ROW},{src:1,type:L.FLOOR},{src:17,type:L.CLIFF_CENTER},{src:1,type:L.FLOOR},{src:17,type:L.CLIFF_CENTER},{src:null,type:null},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:9,type:L.WALL_ROW},{src:17,type:L.CLIFF_CENTER}],[{src:9,type:L.WALL_ROW},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:17,type:L.CLIFF_CENTER},{src:null,type:null},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:9,type:L.WALL_ROW},{src:17,type:L.CLIFF_CENTER}],[{src:15,type:L.WALL_RIGHT_TOP},{src:5,type:L.WALL_COLUMN},{src:5,type:L.WALL_COLUMN},{src:5,type:L.WALL_COLUMN},{src:5,type:L.WALL_COLUMN},{src:5,type:L.WALL_COLUMN},{src:23,type:L.WALL_RIGHT_BOTTOM},{src:1,type:L.FLOOR},{src:21,type:L.WALL_ROW},{src:19,type:L.CLIFF_RIGHT}]],s={x:7,y:7,direction:y.LEFT,state:O.IDLE,type:c.PLAYER},r=[{x:2,y:1,direction:y.BOTTOM,state:O.IDLE,type:c.SKELETON_WOODEN},{x:2,y:4,direction:y.RIGHT,state:O.IDLE,type:c.SKELETON_WOODEN}],R=[{x:1,y:3,type:c.SPIKES_TWO,count:0},{x:3,y:3,type:c.SPIKES_TWO,count:0},{x:4,y:1,type:c.SPIKES_TWO,count:0},{x:4,y:4,type:c.SPIKES_TWO,count:0},{x:4,y:6,type:c.SPIKES_TWO,count:0},{x:5,y:3,type:c.SPIKES_TWO,count:0},{x:6,y:2,type:c.SPIKES_TWO,count:0},{x:6,y:6,type:c.SPIKES_TWO,count:0}],F=[{x:1,y:6,state:O.IDLE,type:c.BURST,direction:y.TOP},{x:2,y:6,state:O.IDLE,type:c.BURST,direction:y.TOP},{x:3,y:6,state:O.IDLE,type:c.BURST,direction:y.TOP},{x:4,y:2,state:O.IDLE,type:c.BURST,direction:y.TOP},{x:4,y:5,state:O.IDLE,type:c.BURST,direction:y.TOP},{x:5,y:4,state:O.IDLE,type:c.BURST,direction:y.TOP},{x:5,y:5,state:O.IDLE,type:c.BURST,direction:y.TOP},{x:6,y:5,state:O.IDLE,type:c.BURST,direction:y.TOP}],E={x:0,y:1,direction:y.LEFT,state:O.IDLE,type:c.DOOR};t("default",{mapInfo:p,player:s,enemies:r,spikes:R,bursts:F,door:E});e._RF.pop()}}}));

System.register("chunks:///_virtual/Level18.ts",["cc","./index.ts"],(function(t){var L,e,y,c,s;return{setters:[function(t){L=t.cclegacy},function(t){e=t.TILE_TYPE_ENUM,y=t.DIRECTION_ENUM,c=t.ENTITY_STATE_ENUM,s=t.ENTITY_TYPE_ENUM}],execute:function(){L._RF.push({},"fa317XHyaFG+6fINiTuBY8m","Level18",void 0);var r=[[{src:16,type:e.WALL_LEFT_TOP},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:13,type:e.WALL_LEFT_BOTTOM},{src:18,type:e.CLIFF_LEFT}],[{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:17,type:e.CLIFF_CENTER},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER}],[{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER},{src:1,type:e.FLOOR},{src:16,type:e.WALL_LEFT_TOP},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:13,type:e.WALL_LEFT_BOTTOM},{src:1,type:e.FLOOR},{src:17,type:e.CLIFF_CENTER},{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER}],[{src:15,type:e.WALL_RIGHT_TOP},{src:13,type:e.WALL_LEFT_BOTTOM},{src:1,type:e.FLOOR},{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER},{src:null,type:null},{src:null,type:null},{src:21,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:22,type:e.WALL_COLUMN},{src:14,type:e.WALL_RIGHT_BOTTOM},{src:19,type:e.CLIFF_RIGHT}],[{src:null,type:null},{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null}],[{src:null,type:null},{src:21,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:21,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null}]],p={x:3,y:8,direction:y.LEFT,state:c.IDLE,type:s.PLAYER},O=[{x:1,y:1,direction:y.BOTTOM,state:c.IDLE,type:s.SKELETON_WOODEN},{x:3,y:2,direction:y.BOTTOM,state:c.IDLE,type:s.SKELETON_WOODEN}],l=[{x:1,y:4,type:s.SPIKES_TWO,count:0},{x:1,y:6,type:s.SPIKES_TWO,count:0},{x:1,y:8,type:s.SPIKES_FOUR,count:0}],_=[{x:1,y:5,state:c.IDLE,type:s.BURST,direction:y.TOP},{x:2,y:9,state:c.IDLE,type:s.BURST,direction:y.TOP}],n={x:5,y:2,direction:y.LEFT,state:c.IDLE,type:s.DOOR};t("default",{mapInfo:r,player:p,enemies:O,spikes:l,bursts:_,door:n});L._RF.pop()}}}));

System.register("chunks:///_virtual/Level19.ts",["cc","./index.ts"],(function(L){var t,e,y,O,s;return{setters:[function(L){t=L.cclegacy},function(L){e=L.TILE_TYPE_ENUM,y=L.DIRECTION_ENUM,O=L.ENTITY_STATE_ENUM,s=L.ENTITY_TYPE_ENUM}],execute:function(){t._RF.push({},"997a5mVFM9N4KOCWY2KiSbY","Level19",void 0);var c=[[{src:20,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:20,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER},{src:16,type:e.WALL_LEFT_TOP},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:13,type:e.WALL_LEFT_BOTTOM},{src:18,type:e.CLIFF_LEFT}],[{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER},{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER}],[{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER},{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:17,type:e.CLIFF_CENTER},{src:null,type:null},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER}],[{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:15,type:e.WALL_RIGHT_TOP},{src:5,type:e.WALL_COLUMN},{src:14,type:e.WALL_RIGHT_BOTTOM},{src:1,type:e.FLOOR},{src:16,type:e.WALL_LEFT_TOP},{src:5,type:e.WALL_COLUMN},{src:13,type:e.WALL_LEFT_BOTTOM},{src:1,type:e.FLOOR},{src:9,type:e.WALL_ROW},{src:19,type:e.CLIFF_RIGHT}],[{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER},{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER}],[{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER},{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER}],[{src:15,type:e.WALL_RIGHT_TOP},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:14,type:e.WALL_RIGHT_BOTTOM},{src:19,type:e.CLIFF_RIGHT},{src:21,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:21,type:e.WALL_ROW},{src:19,type:e.CLIFF_RIGHT}]],r={x:0,y:1,direction:y.RIGHT,state:O.IDLE,type:s.PLAYER},p=[{x:2,y:5,direction:y.TOP,state:O.IDLE,type:s.SKELETON_WOODEN},{x:4,y:9,direction:y.TOP,state:O.IDLE,type:s.SKELETON_WOODEN}],_=[{x:1,y:5,state:O.IDLE,type:s.BURST,direction:y.TOP},{x:1,y:6,state:O.IDLE,type:s.BURST,direction:y.TOP},{x:1,y:7,state:O.IDLE,type:s.BURST,direction:y.TOP},{x:1,y:8,state:O.IDLE,type:s.BURST,direction:y.TOP},{x:1,y:9,state:O.IDLE,type:s.BURST,direction:y.TOP},{x:2,y:6,state:O.IDLE,type:s.BURST,direction:y.TOP},{x:2,y:7,state:O.IDLE,type:s.BURST,direction:y.TOP}],R={x:6,y:9,direction:y.LEFT,state:O.IDLE,type:s.DOOR};L("default",{mapInfo:c,player:r,enemies:p,spikes:[],bursts:_,door:R});t._RF.pop()}}}));

System.register("chunks:///_virtual/Level2.ts",["cc","./index.ts"],(function(L){var e,t,O,s,c;return{setters:[function(L){e=L.cclegacy},function(L){t=L.TILE_TYPE_ENUM,O=L.DIRECTION_ENUM,s=L.ENTITY_STATE_ENUM,c=L.ENTITY_TYPE_ENUM}],execute:function(){e._RF.push({},"6b2043uHmJMIYwOKxpiPvBg","Level2",void 0);var r=[[{src:16,type:t.WALL_LEFT_TOP},{src:5,type:t.WALL_COLUMN},{src:5,type:t.WALL_COLUMN},{src:5,type:t.WALL_COLUMN},{src:5,type:t.WALL_COLUMN},{src:13,type:t.WALL_LEFT_BOTTOM},{src:18,type:t.CLIFF_LEFT}],[{src:21,type:t.WALL_ROW},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:9,type:t.WALL_ROW},{src:17,type:t.CLIFF_CENTER}],[{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:9,type:t.WALL_ROW},{src:17,type:t.CLIFF_CENTER}],[{src:20,type:t.WALL_LEFT_BOTTOM},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:9,type:t.WALL_ROW},{src:17,type:t.CLIFF_CENTER}],[{src:9,type:t.WALL_ROW},{src:1,type:t.FLOOR},{src:20,type:t.WALL_LEFT_BOTTOM},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:9,type:t.WALL_ROW},{src:17,type:t.CLIFF_CENTER}],[{src:15,type:t.WALL_RIGHT_TOP},{src:5,type:t.WALL_COLUMN},{src:14,type:t.WALL_RIGHT_BOTTOM},{src:1,type:t.FLOOR},{src:22,type:t.WALL_COLUMN},{src:14,type:t.WALL_RIGHT_BOTTOM},{src:19,type:t.CLIFF_RIGHT}]],p={x:2,y:0,direction:O.BOTTOM,state:s.IDLE,type:c.PLAYER},y=[{x:3,y:2,direction:O.TOP,state:s.IDLE,type:c.SKELETON_WOODEN},{x:4,y:3,direction:O.TOP,state:s.IDLE,type:c.SKELETON_WOODEN}],_={x:5,y:3,direction:O.LEFT,state:s.IDLE,type:c.DOOR};L("default",{mapInfo:r,player:p,enemies:y,spikes:[],bursts:[],door:_});e._RF.pop()}}}));

System.register("chunks:///_virtual/Level20.ts",["cc","./index.ts"],(function(t){var e,L,s,y,c;return{setters:[function(t){e=t.cclegacy},function(t){L=t.TILE_TYPE_ENUM,s=t.DIRECTION_ENUM,y=t.ENTITY_STATE_ENUM,c=t.ENTITY_TYPE_ENUM}],execute:function(){e._RF.push({},"69b98knvyhEkKwDUHRuCwsq","Level20",void 0);var r=[[{src:null,type:null},{src:16,type:L.WALL_LEFT_TOP},{src:5,type:L.WALL_COLUMN},{src:23,type:L.WALL_RIGHT_BOTTOM},{src:1,type:L.FLOOR},{src:20,type:L.WALL_ROW},{src:18,type:L.CLIFF_LEFT}],[{src:null,type:null},{src:9,type:L.WALL_ROW},{src:17,type:L.CLIFF_CENTER},{src:null,type:null},{src:1,type:L.FLOOR},{src:9,type:L.WALL_ROW},{src:17,type:L.CLIFF_CENTER}],[{src:null,type:null},{src:9,type:L.WALL_ROW},{src:1,type:L.FLOOR},{src:17,type:L.CLIFF_CENTER},{src:null,type:null},{src:21,type:L.WALL_ROW},{src:17,type:L.CLIFF_CENTER}],[{src:null,type:null},{src:9,type:L.WALL_ROW},{src:1,type:L.FLOOR},{src:17,type:L.CLIFF_CENTER},{src:null,type:null},{src:null,type:null},{src:null,type:null}],[{src:null,type:null},{src:9,type:L.WALL_ROW},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:20,type:L.WALL_ROW},{src:17,type:L.CLIFF_CENTER}],[{src:null,type:null},{src:15,type:L.WALL_RIGHT_TOP},{src:25,type:L.WALL_COLUMN},{src:23,type:L.WALL_RIGHT_BOTTOM},{src:1,type:L.FLOOR},{src:9,type:L.WALL_ROW},{src:17,type:L.CLIFF_CENTER}],[{src:null,type:null},{src:null,type:null},{src:9,type:L.WALL_ROW},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:9,type:L.WALL_ROW},{src:17,type:L.CLIFF_CENTER}],[{src:null,type:null},{src:null,type:null},{src:21,type:L.WALL_ROW},{src:1,type:L.FLOOR},{src:17,type:L.CLIFF_CENTER},{src:9,type:L.WALL_ROW},{src:17,type:L.CLIFF_CENTER}],[{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:9,type:L.WALL_ROW},{src:17,type:L.CLIFF_CENTER}],[{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:9,type:L.WALL_ROW},{src:17,type:L.CLIFF_CENTER}],[{src:22,type:L.WALL_RIGHT_TOP},{src:5,type:L.WALL_COLUMN},{src:5,type:L.WALL_COLUMN},{src:5,type:L.WALL_COLUMN},{src:5,type:L.WALL_COLUMN},{src:14,type:L.WALL_RIGHT_BOTTOM},{src:19,type:L.CLIFF_RIGHT}]],p={x:0,y:4,direction:s.RIGHT,state:y.IDLE,type:c.PLAYER},O=[{x:9,y:1,direction:s.LEFT,state:y.IDLE,type:c.SKELETON_WOODEN},{x:9,y:3,direction:s.LEFT,state:y.IDLE,type:c.SKELETON_IRON},{x:9,y:4,direction:s.LEFT,state:y.IDLE,type:c.SKELETON_IRON}],l=[{x:1,y:2,state:y.IDLE,type:c.BURST,direction:s.TOP},{x:1,y:3,state:y.IDLE,type:c.BURST,direction:s.TOP},{x:2,y:3,state:y.IDLE,type:c.BURST,direction:s.TOP},{x:2,y:4,state:y.IDLE,type:c.BURST,direction:s.TOP},{x:7,y:4,state:y.IDLE,type:c.BURST,direction:s.TOP}],R={x:9,y:0,direction:s.BOTTOM,state:y.IDLE,type:c.DOOR};t("default",{mapInfo:r,player:p,enemies:O,spikes:[],bursts:l,door:R});e._RF.pop()}}}));

System.register("chunks:///_virtual/Level21.ts",["cc","./index.ts"],(function(e){var t,L,s,c,r;return{setters:[function(e){t=e.cclegacy},function(e){L=e.TILE_TYPE_ENUM,s=e.DIRECTION_ENUM,c=e.ENTITY_STATE_ENUM,r=e.ENTITY_TYPE_ENUM}],execute:function(){t._RF.push({},"ecdb1KVTPVNcrvskn0WhUNh","Level21",void 0);var O=[[{src:null,type:null},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:18,type:L.CLIFF_LEFT}],[{src:null,type:null},{src:1,type:L.FLOOR},{src:16,type:L.WALL_LEFT_TOP},{src:5,type:L.WALL_COLUMN},{src:5,type:L.WALL_COLUMN},{src:5,type:L.WALL_COLUMN},{src:5,type:L.WALL_COLUMN},{src:13,type:L.WALL_LEFT_BOTTOM},{src:17,type:L.CLIFF_CENTER}],[{src:null,type:null},{src:1,type:L.FLOOR},{src:9,type:L.WALL_ROW},{src:17,type:L.CLIFF_CENTER},{src:1,type:L.FLOOR},{src:17,type:L.CLIFF_CENTER},{src:1,type:L.FLOOR},{src:9,type:L.WALL_ROW},{src:17,type:L.CLIFF_CENTER}],[{src:null,type:null},{src:1,type:L.FLOOR},{src:9,type:L.WALL_ROW},{src:17,type:L.CLIFF_CENTER},{src:null,type:null},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:9,type:L.WALL_ROW},{src:17,type:L.CLIFF_CENTER}],[{src:null,type:null},{src:1,type:L.FLOOR},{src:9,type:L.WALL_ROW},{src:1,type:L.FLOOR},{src:16,type:L.WALL_LEFT_TOP},{src:13,type:L.WALL_LEFT_BOTTOM},{src:1,type:L.FLOOR},{src:9,type:L.WALL_ROW},{src:17,type:L.CLIFF_CENTER}],[{src:null,type:null},{src:1,type:L.FLOOR},{src:21,type:L.WALL_ROW},{src:1,type:L.FLOOR},{src:9,type:L.WALL_ROW},{src:9,type:L.WALL_ROW},{src:1,type:L.FLOOR},{src:21,type:L.WALL_RIGHT_BOTTOM},{src:19,type:L.CLIFF_RIGHT}],[{src:20,type:L.WALL_LEFT_TOP},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:9,type:L.WALL_ROW},{src:9,type:L.WALL_ROW},{src:1,type:L.FLOOR},{src:17,type:L.CLIFF_CENTER},{src:null,type:null}],[{src:9,type:L.WALL_ROW},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:1,type:L.FLOOR},{src:9,type:L.WALL_ROW},{src:9,type:L.WALL_ROW},{src:1,type:L.FLOOR},{src:19,type:L.CLIFF_RIGHT},{src:null,type:null}],[{src:15,type:L.WALL_RIGHT_TOP},{src:5,type:L.WALL_COLUMN},{src:5,type:L.WALL_COLUMN},{src:5,type:L.WALL_COLUMN},{src:14,type:L.WALL_RIGHT_BOTTOM},{src:19,type:L.CLIFF_RIGHT},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null}]],y={x:0,y:7,direction:s.TOP,state:c.IDLE,type:r.PLAYER},p=[{x:2,y:6,direction:s.LEFT,state:c.IDLE,type:r.SKELETON_WOODEN}],R=[{x:2,y:3,state:c.IDLE,type:r.BURST,direction:s.TOP},{x:2,y:5,state:c.IDLE,type:r.BURST,direction:s.TOP},{x:3,y:3,state:c.IDLE,type:r.BURST,direction:s.TOP},{x:3,y:4,state:c.IDLE,type:r.BURST,direction:s.TOP}],F={x:7,y:6,direction:s.LEFT,state:c.IDLE,type:r.DOOR};e("default",{mapInfo:O,player:y,enemies:p,spikes:[],bursts:R,door:F});t._RF.pop()}}}));

System.register("chunks:///_virtual/Level3.ts",["cc","./index.ts"],(function(l){var t,e,L,y,c;return{setters:[function(l){t=l.cclegacy},function(l){e=l.TILE_TYPE_ENUM,L=l.DIRECTION_ENUM,y=l.ENTITY_STATE_ENUM,c=l.ENTITY_TYPE_ENUM}],execute:function(){t._RF.push({},"36d801xmnFFh5avUG0+br62","Level3",void 0);var s=[[{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:20,type:e.WALL_LEFT_BOTTOM},{src:1,type:e.FLOOR},{src:20,type:e.WALL_LEFT_BOTTOM},{src:18,type:e.CLIFF_LEFT},{src:null,type:null}],[{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER},{src:null,type:null}],[{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:15,type:e.WALL_RIGHT_TOP},{src:13,type:e.WALL_LEFT_BOTTOM},{src:17,type:e.CLIFF_CENTER}],[{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER}],[{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER}],[{src:22,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:14,type:e.WALL_RIGHT_BOTTOM},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER}],[{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER}],[{src:22,type:e.WALL_COLUMN},{src:13,type:e.WALL_LEFT_BOTTOM},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER}],[{src:null,type:null},{src:15,type:e.WALL_RIGHT_TOP},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:14,type:e.WALL_RIGHT_BOTTOM},{src:19,type:e.CLIFF_RIGHT}]],p={x:0,y:8,direction:L.RIGHT,state:y.IDLE,type:c.PLAYER},r=[{x:6,y:7,direction:L.TOP,state:y.IDLE,type:c.SKELETON_WOODEN}],O=[{x:4,y:8,type:c.SPIKES_ONE,count:0},{x:4,y:9,type:c.SPIKES_ONE,count:0},{x:6,y:3,type:c.SPIKES_ONE,count:0},{x:7,y:3,type:c.SPIKES_ONE,count:0},{x:6,y:5,type:c.SPIKES_ONE,count:0},{x:7,y:5,type:c.SPIKES_ONE,count:0}],n={x:6,y:0,direction:L.BOTTOM,state:y.IDLE,type:c.DOOR};l("default",{mapInfo:s,player:p,enemies:r,spikes:O,bursts:[],door:n});t._RF.pop()}}}));

System.register("chunks:///_virtual/Level4.ts",["cc","./index.ts"],(function(L){var e,t,O,s,c;return{setters:[function(L){e=L.cclegacy},function(L){t=L.TILE_TYPE_ENUM,O=L.DIRECTION_ENUM,s=L.ENTITY_STATE_ENUM,c=L.ENTITY_TYPE_ENUM}],execute:function(){e._RF.push({},"e54c4izgopD4peB1YQCWtw6","Level4",void 0);var r=[[{src:16,type:t.WALL_LEFT_TOP},{src:5,type:t.WALL_COLUMN},{src:5,type:t.WALL_COLUMN},{src:5,type:t.WALL_COLUMN},{src:13,type:t.WALL_LEFT_BOTTOM},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null}],[{src:21,type:t.WALL_RIGHT_BOTTOM},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:15,type:t.WALL_RIGHT_TOP},{src:5,type:t.WALL_COLUMN},{src:5,type:t.WALL_COLUMN},{src:23,type:t.WALL_LEFT_BOTTOM},{src:18,type:t.CLIFF_LEFT}],[{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:17,type:t.CLIFF_CENTER}],[{src:20,type:t.WALL_LEFT_BOTTOM},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:17,type:t.CLIFF_CENTER},{src:null,type:null},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:20,type:t.WALL_LEFT_BOTTOM},{src:17,type:t.CLIFF_CENTER}],[{src:15,type:t.WALL_RIGHT_TOP},{src:5,type:t.WALL_COLUMN},{src:5,type:t.WALL_COLUMN},{src:5,type:t.WALL_COLUMN},{src:5,type:t.WALL_COLUMN},{src:5,type:t.WALL_COLUMN},{src:5,type:t.WALL_COLUMN},{src:14,type:t.WALL_RIGHT_BOTTOM},{src:19,type:t.CLIFF_RIGHT}]],p={x:2,y:7,direction:O.TOP,state:s.IDLE,type:c.PLAYER},y=[{x:1,y:3,direction:O.BOTTOM,state:s.IDLE,type:c.SKELETON_IRON}],T={x:2,y:0,direction:O.BOTTOM,state:s.IDLE,type:c.DOOR};L("default",{mapInfo:r,player:p,enemies:y,spikes:[],bursts:[],door:T});e._RF.pop()}}}));

System.register("chunks:///_virtual/Level5.ts",["cc","./index.ts"],(function(e){var L,t,s,c,r;return{setters:[function(e){L=e.cclegacy},function(e){t=e.TILE_TYPE_ENUM,s=e.DIRECTION_ENUM,c=e.ENTITY_STATE_ENUM,r=e.ENTITY_TYPE_ENUM}],execute:function(){L._RF.push({},"9ac48z1bIFB44WXS6E4d1eK","Level5",void 0);var p=[[{src:16,type:t.WALL_LEFT_TOP},{src:5,type:t.WALL_COLUMN},{src:5,type:t.WALL_COLUMN},{src:23,type:t.WALL_LEFT_BOTTOM},{src:18,type:t.CLIFF_LEFT}],[{src:9,type:t.WALL_ROW},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:1,type:t.FLOOR},{src:17,type:t.CLIFF_CENTER}],[{src:9,type:t.WALL_ROW},{src:1,type:t.FLOOR},{src:17,type:t.CLIFF_CENTER},{src:20,type:t.WALL_ROW},{src:17,type:t.CLIFF_CENTER}],[{src:9,type:t.WALL_ROW},{src:1,type:t.FLOOR},{src:17,type:t.CLIFF_CENTER},{src:9,type:t.WALL_ROW},{src:17,type:t.CLIFF_CENTER}],[{src:9,type:t.WALL_ROW},{src:1,type:t.FLOOR},{src:17,type:t.CLIFF_CENTER},{src:9,type:t.WALL_ROW},{src:17,type:t.CLIFF_CENTER}],[{src:9,type:t.WALL_ROW},{src:1,type:t.FLOOR},{src:17,type:t.CLIFF_CENTER},{src:9,type:t.WALL_ROW},{src:17,type:t.CLIFF_CENTER}],[{src:21,type:t.WALL_RIGHT_BOTTOM},{src:1,type:t.FLOOR},{src:17,type:t.CLIFF_CENTER},{src:21,type:t.WALL_ROW},{src:19,type:t.CLIFF_RIGHT}]],y={x:1,y:3,direction:s.TOP,state:c.IDLE,type:r.PLAYER},E=[{x:5,y:1,direction:s.LEFT,state:c.IDLE,type:r.SKELETON_WOODEN}],_={x:6,y:1,direction:s.LEFT,state:c.IDLE,type:r.DOOR};e("default",{mapInfo:p,player:y,enemies:E,spikes:[],bursts:[],door:_});L._RF.pop()}}}));

System.register("chunks:///_virtual/Level6.ts",["cc","./index.ts"],(function(L){var e,O,t,s,c;return{setters:[function(L){e=L.cclegacy},function(L){O=L.TILE_TYPE_ENUM,t=L.DIRECTION_ENUM,s=L.ENTITY_STATE_ENUM,c=L.ENTITY_TYPE_ENUM}],execute:function(){e._RF.push({},"ec7bcBu1GJNVb23Rdd0HwEs","Level6",void 0);var r=[[{src:16,type:O.WALL_LEFT_TOP},{src:5,type:O.WALL_COLUMN},{src:23,type:O.WALL_COLUMN},{src:1,type:O.FLOOR},{src:22,type:O.WALL_COLUMN},{src:5,type:O.WALL_COLUMN},{src:13,type:O.WALL_LEFT_BOTTOM},{src:18,type:O.CLIFF_LEFT}],[{src:9,type:O.WALL_ROW},{src:1,type:O.FLOOR},{src:1,type:O.FLOOR},{src:1,type:O.FLOOR},{src:1,type:O.FLOOR},{src:1,type:O.FLOOR},{src:9,type:O.WALL_ROW},{src:17,type:O.CLIFF_CENTER}],[{src:9,type:O.WALL_ROW},{src:1,type:O.FLOOR},{src:1,type:O.FLOOR},{src:1,type:O.FLOOR},{src:1,type:O.FLOOR},{src:1,type:O.FLOOR},{src:9,type:O.WALL_ROW},{src:17,type:O.CLIFF_CENTER}],[{src:9,type:O.WALL_ROW},{src:1,type:O.FLOOR},{src:1,type:O.FLOOR},{src:1,type:O.FLOOR},{src:1,type:O.FLOOR},{src:1,type:O.FLOOR},{src:9,type:O.WALL_ROW},{src:17,type:O.CLIFF_CENTER}],[{src:9,type:O.WALL_ROW},{src:17,type:O.CLIFF_CENTER},{src:null,type:null},{src:1,type:O.FLOOR},{src:17,type:O.CLIFF_CENTER},{src:null,type:null},{src:9,type:O.WALL_ROW},{src:17,type:O.CLIFF_CENTER}],[{src:9,type:O.WALL_ROW},{src:1,type:O.FLOOR},{src:1,type:O.FLOOR},{src:1,type:O.FLOOR},{src:1,type:O.FLOOR},{src:1,type:O.FLOOR},{src:9,type:O.WALL_ROW},{src:17,type:O.CLIFF_CENTER}],[{src:9,type:O.WALL_ROW},{src:1,type:O.FLOOR},{src:1,type:O.FLOOR},{src:1,type:O.FLOOR},{src:1,type:O.FLOOR},{src:1,type:O.FLOOR},{src:9,type:O.WALL_ROW},{src:17,type:O.CLIFF_CENTER}],[{src:9,type:O.WALL_ROW},{src:1,type:O.FLOOR},{src:1,type:O.FLOOR},{src:1,type:O.FLOOR},{src:1,type:O.FLOOR},{src:1,type:O.FLOOR},{src:9,type:O.WALL_ROW},{src:17,type:O.CLIFF_CENTER}],[{src:15,type:O.WALL_RIGHT_TOP},{src:5,type:O.WALL_COLUMN},{src:23,type:O.WALL_RIGHT_BOTTOM},{src:1,type:O.FLOOR},{src:22,type:O.WALL_COLUMN},{src:5,type:O.WALL_COLUMN},{src:14,type:O.WALL_RIGHT_BOTTOM},{src:19,type:O.CLIFF_RIGHT}]],y={x:0,y:3,direction:t.RIGHT,state:s.IDLE,type:c.PLAYER},p=[{x:5,y:2,direction:t.LEFT,state:s.IDLE,type:c.SKELETON_WOODEN},{x:5,y:4,direction:t.LEFT,state:s.IDLE,type:c.SKELETON_WOODEN}],R={x:8,y:3,direction:t.LEFT,state:s.IDLE,type:c.DOOR};L("default",{mapInfo:r,player:y,enemies:p,spikes:[],bursts:[],door:R});e._RF.pop()}}}));

System.register("chunks:///_virtual/Level7.ts",["cc","./index.ts"],(function(L){var O,e,t,c,y;return{setters:[function(L){O=L.cclegacy},function(L){e=L.TILE_TYPE_ENUM,t=L.DIRECTION_ENUM,c=L.ENTITY_STATE_ENUM,y=L.ENTITY_TYPE_ENUM}],execute:function(){O._RF.push({},"7473e6UlYhBG5T/nio8biN6","Level7",void 0);var s=[[{src:16,type:e.WALL_LEFT_TOP},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:13,type:e.WALL_LEFT_BOTTOM},{src:18,type:e.CLIFF_LEFT}],[{src:21,type:e.WALL_RIGHT_BOTTOM},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:21,type:e.WALL_RIGHT_BOTTOM},{src:17,type:e.CLIFF_CENTER}],[{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:17,type:e.CLIFF_CENTER}],[{src:20,type:e.WALL_LEFT_BOTTOM},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:20,type:e.WALL_LEFT_BOTTOM},{src:17,type:e.CLIFF_CENTER}],[{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER}],[{src:15,type:e.WALL_RIGHT_TOP},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:14,type:e.WALL_RIGHT_BOTTOM},{src:19,type:e.CLIFF_RIGHT}]],r={x:2,y:7,direction:t.TOP,state:c.IDLE,type:y.PLAYER},p=[{x:2,y:2,direction:t.BOTTOM,state:c.IDLE,type:y.SKELETON_WOODEN}],_=[{x:1,y:4,type:y.SPIKES_ONE,count:0},{x:2,y:4,type:y.SPIKES_TWO,count:0},{x:3,y:4,type:y.SPIKES_TWO,count:0},{x:4,y:4,type:y.SPIKES_THREE,count:0}],T={x:2,y:0,direction:t.BOTTOM,state:c.IDLE,type:y.DOOR};L("default",{mapInfo:s,player:r,enemies:p,spikes:_,bursts:[],door:T});O._RF.pop()}}}));

System.register("chunks:///_virtual/Level8.ts",["cc","./index.ts"],(function(l){var t,e,n,y,s;return{setters:[function(l){t=l.cclegacy},function(l){e=l.TILE_TYPE_ENUM,n=l.DIRECTION_ENUM,y=l.ENTITY_STATE_ENUM,s=l.ENTITY_TYPE_ENUM}],execute:function(){t._RF.push({},"5697dZi3/1MS7anx63fuSaP","Level8",void 0);var c=[[{src:16,type:e.WALL_LEFT_TOP},{src:5,type:e.WALL_COLUMN},{src:23,type:e.WALL_LEFT_BOTTOM},{src:18,type:e.CLIFF_LEFT},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null}],[{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:17,type:e.CLIFF_CENTER},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:17,type:e.CLIFF_CENTER},{src:null,type:null},{src:1,type:e.FLOOR},{src:17,type:e.CLIFF_CENTER}],[{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null}],[{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER},{src:20,type:e.WALL_ROW},{src:18,type:e.CLIFF_LEFT},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null}],[{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER},{src:9,type:e.WALL_ROW},{src:18,type:e.CLIFF_LEFT},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null}],[{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER},{src:21,type:e.WALL_ROW},{src:18,type:e.CLIFF_LEFT},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null}],[{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER},{src:null,type:null},{src:1,type:e.FLOOR},{src:18,type:e.CLIFF_LEFT},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null}],[{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:18,type:e.CLIFF_LEFT},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null}],[{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:18,type:e.CLIFF_LEFT},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null}],[{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:24,type:e.WALL_ROW},{src:18,type:e.CLIFF_LEFT},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null}]],r={x:1,y:7,direction:n.TOP,state:y.IDLE,type:s.PLAYER},p=[{x:8,y:1,direction:n.LEFT,state:y.IDLE,type:s.SKELETON_WOODEN}],u=[{x:1,y:2,state:y.IDLE,type:s.BURST,direction:n.TOP},{x:1,y:5,state:y.IDLE,type:s.BURST,direction:n.TOP},{x:1,y:6,state:y.IDLE,type:s.BURST,direction:n.TOP},{x:2,y:1,state:y.IDLE,type:s.BURST,direction:n.TOP},{x:3,y:1,state:y.IDLE,type:s.BURST,direction:n.TOP},{x:4,y:1,state:y.IDLE,type:s.BURST,direction:n.TOP},{x:5,y:1,state:y.IDLE,type:s.BURST,direction:n.TOP},{x:6,y:1,state:y.IDLE,type:s.BURST,direction:n.TOP},{x:6,y:2,state:y.IDLE,type:s.BURST,direction:n.TOP}],L={x:9,y:1,direction:n.LEFT,state:y.IDLE,type:s.DOOR};l("default",{mapInfo:c,player:r,enemies:p,spikes:[],bursts:u,door:L});t._RF.pop()}}}));

System.register("chunks:///_virtual/Level9.ts",["cc","./index.ts"],(function(L){var t,e,y,O,c;return{setters:[function(L){t=L.cclegacy},function(L){e=L.TILE_TYPE_ENUM,y=L.DIRECTION_ENUM,O=L.ENTITY_STATE_ENUM,c=L.ENTITY_TYPE_ENUM}],execute:function(){t._RF.push({},"7cb33Ky4mhErLgA2C8aZmZ7","Level9",void 0);var s=[[{src:20,type:e.WALL_LEFT_BOTTOM},{src:1,type:e.FLOOR},{src:22,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:13,type:e.WALL_LEFT_BOTTOM},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null},{src:null,type:null}],[{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:17,type:e.CLIFF_CENTER},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:9,type:e.WALL_ROW},{src:16,type:e.WALL_RIGHT_TOP},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:23,type:e.WALL_LEFT_BOTTOM},{src:17,type:e.CLIFF_CENTER}],[{src:9,type:e.WALL_ROW},{src:1,type:e.FLOOR},{src:17,type:e.CLIFF_CENTER},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:15,type:e.WALL_RIGHT_TOP},{src:14,type:e.WALL_RIGHT_BOTTOM},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:17,type:e.CLIFF_CENTER},{src:1,type:e.FLOOR},{src:18,type:e.CLIFF_LEFT}],[{src:9,type:e.WALL_ROW},{src:17,type:e.CLIFF_CENTER},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:17,type:e.CLIFF_CENTER},{src:null,type:null},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:1,type:e.FLOOR},{src:17,type:e.CLIFF_CENTER},{src:20,type:e.WALL_LEFT_BOTTOM},{src:17,type:e.CLIFF_CENTER}],[{src:15,type:e.WALL_RIGHT_TOP},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:5,type:e.WALL_COLUMN},{src:14,type:e.WALL_RIGHT_BOTTOM},{src:19,type:e.CLIFF_RIGHT}]],r={x:2,y:11,direction:y.TOP,state:O.IDLE,type:c.PLAYER},p=[{x:1,y:1,direction:y.BOTTOM,state:O.IDLE,type:c.SKELETON_WOODEN},{x:2,y:7,direction:y.BOTTOM,state:O.IDLE,type:c.SKELETON_WOODEN}],T=[{x:1,y:3,type:c.SPIKES_THREE,count:0},{x:3,y:6,type:c.SPIKES_ONE,count:0},{x:2,y:9,type:c.SPIKES_TWO,count:0}],_=[{x:3,y:1,state:O.IDLE,type:c.BURST,direction:y.TOP},{x:3,y:4,state:O.IDLE,type:c.BURST,direction:y.TOP},{x:3,y:5,state:O.IDLE,type:c.BURST,direction:y.TOP},{x:2,y:10,state:O.IDLE,type:c.BURST,direction:y.TOP},{x:3,y:10,state:O.IDLE,type:c.BURST,direction:y.TOP}],E={x:0,y:1,direction:y.LEFT,state:O.IDLE,type:c.DOOR};L("default",{mapInfo:s,player:r,enemies:p,spikes:T,bursts:_,door:E});t._RF.pop()}}}));

System.register("chunks:///_virtual/LoadingManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index.ts"],(function(r){var e,n,t,o,a,i,c,s,u,l,p;return{setters:[function(r){e=r.applyDecoratedDescriptor,n=r.inheritsLoose,t=r.initializerDefineProperty,o=r.assertThisInitialized},function(r){a=r.cclegacy,i=r._decorator,c=r.ProgressBar,s=r.resources,u=r.director,l=r.Component},function(r){p=r.SCENE_ENUM}],execute:function(){var f,g,d,y,h;a._RF.push({},"c9f90KfO1lGiJYoa4nAO42M","LoadingManager",void 0);var b=i.ccclass,v=i.property;r("LoadingManager",(f=b("LoadingManager"),g=v(c),f((h=e((y=function(r){function e(){for(var e,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return e=r.call.apply(r,[this].concat(a))||this,t(e,"bar",h,o(e)),e}return n(e,r),e.prototype.onLoad=function(){var r=this;s.preloadDir("texture",(function(e,n){r.bar.progress=e/n}),(function(){u.loadScene(p.Start)}))},e}(l)).prototype,"bar",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=y))||d));a._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./debug-view-runtime-control.ts","./DirectionSubStateMachine.ts","./EnemyManager.ts","./EntityManager.ts","./Singleton.ts","./State.ts","./StateMachine.ts","./SubStateMachine.ts","./index.ts","./Level1.ts","./Level10.ts","./Level11.ts","./Level12.ts","./Level13.ts","./Level14.ts","./Level15.ts","./Level16.ts","./Level17.ts","./Level18.ts","./Level19.ts","./Level2.ts","./Level20.ts","./Level21.ts","./Level3.ts","./Level4.ts","./Level5.ts","./Level6.ts","./Level7.ts","./Level8.ts","./Level9.ts","./index3.ts","./DataManager.ts","./EventManager.ts","./FaderManager.ts","./ResourceManager.ts","./BurstManager.ts","./BurstStateMachine.ts","./DeathSubStateMachine3.ts","./DoorManager.ts","./DorrStateMachine.ts","./IdleSubStateMachine4.ts","./DeathSubMachine.ts","./IdleSubStateMachine2.ts","./IronSkeletonManager.ts","./IronSkeletonStateMachine.ts","./AirDeathSubStateMachine.ts","./AttackSubStateMachine2.ts","./BlockBackSubMachine.ts","./BlockLeftSubMachine.ts","./BlockRightSubMachine.ts","./BlockTurnLeftSubMachine.ts","./BlockTurnRightSubMachine.ts","./BloickFrontSubMachi.ts","./BloickFrontSubMachine.ts","./DeathSubStateMachine2.ts","./IdleSubStateMachine.ts","./PlayerManager.ts","./PlayerStateMachine.ts","./TurnLeftSubStateMachine.ts","./TurnRightSubStateMachine.ts","./BattleManager.ts","./LoadingManager.ts","./StartManager.ts","./DeathSubStateMachine4.ts","./IdleSubStateMachine5.ts","./SomkeManager.ts","./SomkeStateMachine.ts","./SpikesFourSubMachine.ts","./SpikesManager.ts","./SpikesOneSubStateMachine.ts","./SpikesStateMachine.ts","./SpikesSubMachine.ts","./SpikesThreeSubMachine.ts","./SpikesTwoSubMachine.ts","./TileManager.ts","./TileMapManager.ts","./ControllerManager.ts","./DrawManager.ts","./MenuManager.ts","./ShakeManager.ts","./index2.ts","./AttackSubStateMachine.ts","./DeathSubStateMachine.ts","./IdleSubStateMachine3.ts","./WoodenSkeletonManager.ts","./WoodenSkeletonStateMachine.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/MenuManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./index.ts"],(function(n){var e,t,a,r,c,u;return{setters:[function(n){e=n.inheritsLoose},function(n){t=n.cclegacy,a=n._decorator,r=n.Component},function(n){c=n.default},function(n){u=n.EVENT_ENUM}],execute:function(){var o;t._RF.push({},"aecfcVAAuVJGLvGaOzrWbOI","MenuManager",void 0);var i=a.ccclass;a.property,n("MenuManager",i("MenuManager")(o=function(n){function t(){return n.apply(this,arguments)||this}e(t,n);var a=t.prototype;return a.handleUndo=function(){c.Instance.emit(u.REVOKE_STEP)},a.handleRestart=function(){c.Instance.emit(u.RESTART_LEVEL)},a.handleOut=function(){c.Instance.emit(u.OUT_BETTLE)},t}(r))||o);t._RF.pop()}}}));

System.register("chunks:///_virtual/PlayerManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index.ts","./EventManager.ts","./PlayerStateMachine.ts","./EntityManager.ts","./DataManager.ts"],(function(t){var e,r,a,i,s,n,T,h,u,o,l,c,v,E;return{setters:[function(t){e=t.inheritsLoose,r=t.asyncToGenerator,a=t.regeneratorRuntime},function(t){i=t.cclegacy,s=t._decorator},function(t){n=t.EVENT_ENUM,T=t.ENTITY_STATE_ENUM,h=t.CONTROLLER_ENUM,u=t.DIRECTION_ENUM,o=t.SHAKE_TYPE_ENUM},function(t){l=t.default},function(t){c=t.PlayerStateMachine},function(t){v=t.EntityManager},function(t){E=t.default}],execute:function(){var f;i._RF.push({},"d8847hrTG1AFLs11iBtSkDC","PlayerManager",void 0);var O=s.ccclass;s.property,t("PlayerManager",O("PlayerManager")(f=function(t){function i(){for(var e,r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))||this).targetX=0,e.targetY=0,e.speed=.1,e.isMove=!1,e}e(i,t);var s=i.prototype;return s.init=function(){var e=r(a().mark((function e(r){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.fsm=this.addComponent(c),e.next=3,this.fsm.init();case 3:t.prototype.init.call(this,r),this.targetX=this.x,this.targetY=this.y,l.Instance.on(n.PLAYER_CTRL,this.inputHandle,this),l.Instance.on(n.ATTACK_PLAYER,this.onDeath,this);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),s.onDestroy=function(){l.Instance.off(n.PLAYER_CTRL,this.inputHandle),l.Instance.off(n.ATTACK_PLAYER,this.onDeath)},s.update=function(){this.updateXY(),t.prototype.update.call(this)},s.updateXY=function(){this.targetX<this.x?this.x-=this.speed:this.targetX>this.x&&(this.x+=this.speed),this.targetY<this.y?this.y-=this.speed:this.targetY>this.y&&(this.y+=this.speed),Math.abs(this.targetX-this.x)<=.1&&Math.abs(this.targetY-this.y)<=.1&&this.isMove&&(this.isMove=!1,this.x=this.targetX,this.y=this.targetY,l.Instance.emit(n.PLAYER_MOVE_END))},s.inputHandle=function(t){if(!this.isMove&&this.state!==T.DEATH&&this.state!==T.AIRDEATH&&this.state!==T.ATTACK){var e=this.willAttack(t);if(e)return l.Instance.emit(n.RECORD_STEP),this.state=T.ATTACK,l.Instance.emit(n.ATTACK_ENEMY,e),l.Instance.emit(n.DOOR_OPEN),void l.Instance.emit(n.PLAYER_MOVE_END);if(this.willBlock(t))switch(t){case h.TOP:l.Instance.emit(n.SCREEN_SHAKE,o.TOP);break;case h.BOTTOM:l.Instance.emit(n.SCREEN_SHAKE,o.BOTTOM);break;case h.LEFT:l.Instance.emit(n.SCREEN_SHAKE,o.LEFT);break;case h.RIGHT:l.Instance.emit(n.SCREEN_SHAKE,o.RIGHT);break;case h.TURNLEFT:switch(this.direction){case u.TOP:l.Instance.emit(n.SCREEN_SHAKE,o.LEFT);break;case u.BOTTOM:l.Instance.emit(n.SCREEN_SHAKE,o.RIGHT);break;case u.LEFT:l.Instance.emit(n.SCREEN_SHAKE,o.BOTTOM);break;case u.RIGHT:l.Instance.emit(n.SCREEN_SHAKE,o.TOP)}break;case h.TURNRIGHT:switch(this.direction){case u.TOP:l.Instance.emit(n.SCREEN_SHAKE,o.RIGHT);break;case u.BOTTOM:l.Instance.emit(n.SCREEN_SHAKE,o.LEFT);break;case u.LEFT:l.Instance.emit(n.SCREEN_SHAKE,o.TOP);break;case u.RIGHT:l.Instance.emit(n.SCREEN_SHAKE,o.BOTTOM)}}else this.moveNode(t)}},s.onDeath=function(t){this.state=t},s.onAttackShake=function(t){l.Instance.emit(n.SCREEN_SHAKE,t)},s.moveNode=function(t){switch(l.Instance.emit(n.RECORD_STEP),t){case"TOP":this.isMove=!0,this.targetY-=1,this.showSomke(u.TOP);break;case"BOTTOM":this.isMove=!0,this.targetY+=1,this.showSomke(u.BOTTOM);break;case"LEFT":this.isMove=!0,this.targetX-=1,this.showSomke(u.LEFT);break;case"RIGHT":this.isMove=!0,this.targetX+=1,this.showSomke(u.RIGHT);break;case"TURNLEFT":this.direction===u.TOP?this.direction=u.LEFT:this.direction===u.LEFT?this.direction=u.BOTTOM:this.direction===u.BOTTOM?this.direction=u.RIGHT:this.direction===u.RIGHT&&(this.direction=u.TOP),this.state=T.TURNLEFT,l.Instance.emit(n.PLAYER_MOVE_END);break;case"TURNRIGHT":this.direction===u.TOP?this.direction=u.RIGHT:this.direction===u.LEFT?this.direction=u.TOP:this.direction===u.BOTTOM?this.direction=u.LEFT:this.direction===u.RIGHT&&(this.direction=u.BOTTOM),this.state=T.TURNRIGHT,l.Instance.emit(n.PLAYER_MOVE_END)}},s.showSomke=function(t){l.Instance.emit(n.SHOW_SOMKE,this.x,this.y,t)},s.willAttack=function(t){for(var e=E.Instance.enemies.filter((function(t){return t.state!==T.DEATH})),r=0;r<e.length;r++){var a=e[r],i=a.x,s=a.y,n=a.id;if(this.direction===u.TOP&&t===h.TOP&&this.targetX===i&&this.targetY-2===s)return this.state=T.ATTACK,n;if(this.direction===u.LEFT&&t===h.LEFT&&this.targetY===s&&this.targetX-2===i)return this.state=T.ATTACK,n;if(this.direction===u.BOTTOM&&t===h.BOTTOM&&this.targetX===i&&this.targetY+2===s)return this.state=T.ATTACK,n;if(this.direction===u.RIGHT&&t===h.RIGHT&&this.targetY===s&&this.targetX+2===i)return this.state=T.ATTACK,n}return""},s.willBlock=function(t){var e,r,a,i,s,n,o,l,c,v,f,O,L,b,R,C,B,K,H,d,A,I,g,y,F,k,m,M,N=this.targetX,x=this.targetY,S=this.direction,G=E.Instance.door,_=G.x,P=G.y,D=G.state,p=E.Instance.tileInfo,Y=E.Instance.enemies.filter((function(t){return t.state!==T.DEATH})),w=E.Instance.burst.filter((function(t){return t.state!==T.DEATH}));switch(t){case h.TOP:var U,X=x-1;switch(S){case u.TOP:var V=X-1,j=null==(e=p[N])?void 0:e[X],W=null==(r=p[N])?void 0:r[V];if((_===N&&P===X||_===N&&P===V)&&D!==T.DEATH)return this.state=T.BLOCKFRONT,!0;for(var q=0;q<Y.length;q++){var z=Y[q],J=z.x,Q=z.y;if(J===N&&Q===X||J===N&&Q===V)return this.state=T.BLOCKFRONT,!0}for(var Z=0;Z<w.length;Z++){var $=w[Z],tt=$.x,et=$.y;if(tt===N&&et===X&&(!W||W.turnable))return!1}if(!j||!j.moveble||W&&!W.turnable)return this.state=T.BLOCKFRONT,!0;break;case u.BOTTOM:var rt=null==(a=p[N])?void 0:a[X];if(_===N&&P===X&&D!==T.DEATH)return this.state=T.BLOCKBACK,!0;for(var at=0;at<Y.length;at++){var it=Y[at],st=it.x,nt=it.y;if(st===N&&nt===X)return this.state=T.BLOCKBACK,!0}for(var Tt=0;Tt<w.length;Tt++){var ht=w[Tt],ut=ht.x,ot=ht.y;if(ut===N&&ot===X&&(!rt||rt.turnable))return!1}if(!(rt&&rt.moveble&&rt.turnable))return this.state=T.BLOCKBACK,!0;break;case u.LEFT:U=N-1;var lt=null==(i=p[N])?void 0:i[X],ct=null==(s=p[U])?void 0:s[X];if((_===N&&P===X||_===U&&P===X)&&D!==T.DEATH)return this.state=T.BLOCKRIGHT,!0;for(var vt=0;vt<Y.length;vt++){var Et=Y[vt],ft=Et.x,Ot=Et.y;if(ft===N&&Ot===X||ft===U&&Ot===X)return this.state=T.BLOCKRIGHT,!0}for(var Lt=0;Lt<w.length;Lt++){var bt=w[Lt],Rt=bt.x,Ct=bt.y;if(Rt===N&&Ct===X&&(!ct||ct.turnable))return!1}if(!lt||!lt.moveble||ct&&!ct.turnable)return this.state=T.BLOCKRIGHT,!0;break;case u.RIGHT:U=N+1;var Bt=null==(n=p[N])?void 0:n[X],Kt=null==(o=p[U])?void 0:o[X];if((_===N&&P===X||_===U&&P===X)&&D!==T.DEATH)return this.state=T.BLOCKLEFT,!0;for(var Ht=0;Ht<Y.length;Ht++){var dt=Y[Ht],At=dt.x,It=dt.y;if(At===N&&It===X||At===N&&It===V)return this.state=T.BLOCKLEFT,!0}for(var gt=0;gt<w.length;gt++){var yt=w[gt],Ft=yt.x,kt=yt.y;if(Ft===N&&kt===X&&(!Kt||Kt.turnable))return!1}if(!Bt||!Bt.moveble||Kt&&!Kt.turnable)return this.state=T.BLOCKLEFT,!0}break;case h.LEFT:var mt,Mt;switch(S){case u.TOP:Mt=x-1;var Nt=null==(l=p[mt=N-1])?void 0:l[x],xt=null==(c=p[mt])?void 0:c[Mt];if((_===mt&&P===x||_===mt&&P===Mt)&&D!==T.DEATH)return this.state=T.BLOCKLEFT,!0;for(var St=0;St<Y.length;St++){var Gt=Y[St],_t=Gt.x,Pt=Gt.y;if(_t===mt&&Pt===x||_t===mt&&Pt===Mt)return this.state=T.BLOCKLEFT,!0}for(var Dt=0;Dt<w.length;Dt++){var pt=w[Dt],Yt=pt.x,wt=pt.y;if(Yt===mt&&wt===x&&(!xt||xt.turnable))return!1}if(!Nt||!Nt.moveble||xt&&!xt.turnable)return this.state=T.BLOCKLEFT,!0;break;case u.BOTTOM:Mt=x+1;var Ut=null==(v=p[mt=N-1])?void 0:v[x],Xt=null==(f=p[mt])?void 0:f[Mt];if((_===mt&&P===x||_===mt&&P===Mt)&&D!==T.DEATH)return this.state=T.BLOCKRIGHT,!0;for(var Vt=0;Vt<Y.length;Vt++){var jt=Y[Vt],Wt=jt.x,qt=jt.y;if(Wt===mt&&qt===x||Wt===mt&&qt===Mt)return this.state=T.BLOCKRIGHT,!0}for(var zt=0;zt<w.length;zt++){var Jt=w[zt],Qt=Jt.x,Zt=Jt.y;if(Qt===mt&&Zt===x&&(!Xt||Xt.turnable))return!1}if(!Ut||!Ut.moveble||Xt&&!Xt.turnable)return this.state=T.BLOCKRIGHT,!0;break;case u.LEFT:var $t=(mt=N-1)-1,te=null==(O=p[mt])?void 0:O[x],ee=null==(L=p[$t])?void 0:L[x];if((_===mt&&P===x||_===$t&&P===x)&&D!==T.DEATH)return this.state=T.BLOCKLEFT,!0;for(var re=0;re<Y.length;re++){var ae=Y[re],ie=ae.x,se=ae.y;if(ie===mt&&se===x||ie===$t&&se===x)return this.state=T.BLOCKLEFT,!0}for(var ne=0;ne<w.length;ne++){var Te=w[ne],he=Te.x,ue=Te.y;if(he===mt&&ue===x&&(!ee||ee.turnable))return!1}if(!te||!te.moveble||ee&&!ee.turnable)return this.state=T.BLOCKFRONT,!0;break;case u.RIGHT:var oe=null==(b=p[mt=N-1])?void 0:b[x];if(_===mt&&P===x&&D!==T.DEATH)return this.state=T.BLOCKLEFT,!0;for(var le=0;le<Y.length;le++){var ce=Y[le],ve=ce.x,Ee=ce.y;if(ve===mt&&Ee===x)return this.state=T.BLOCKLEFT,!0}for(var fe=0;fe<w.length;fe++){var Oe=w[fe],Le=Oe.x,be=Oe.y;if(Le===mt&&be===x)return!1}if(!(oe&&oe.moveble&&oe.turnable))return this.state=T.BLOCKBACK,!0}break;case h.RIGHT:var Re,Ce;switch(S){case u.TOP:Ce=x-1;var Be=null==(R=p[Re=N+1])?void 0:R[x],Ke=null==(C=p[Re])?void 0:C[Ce];if((_===Re&&P===x||_===Re&&P===Ce)&&D!==T.DEATH)return this.state=T.BLOCKLEFT,!0;for(var He=0;He<Y.length;He++){var de=Y[He],Ae=de.x,Ie=de.y;if(Ae===Re&&Ie===x||Ae===Re&&Ie===Ce)return this.state=T.BLOCKLEFT,!0}for(var ge=0;ge<w.length;ge++){var ye=w[ge],Fe=ye.x,ke=ye.y;if(Fe===Re&&ke===x&&(!Ke||Ke.turnable))return!1}if(!Be||!Be.moveble||Ke&&!Ke.turnable)return this.state=T.BLOCKRIGHT,!0;break;case u.BOTTOM:Ce=x+1;var me=null==(B=p[Re=N+1])?void 0:B[x],Me=null==(K=p[Re])?void 0:K[Ce];if((_===Re&&P===x||_===Re&&P===Ce)&&D!==T.DEATH)return this.state=T.BLOCKLEFT,!0;for(var Ne=0;Ne<Y.length;Ne++){var xe=Y[Ne],Se=xe.x,Ge=xe.y;if(Se===Re&&Ge===x||Se===Re&&Ge===Ce)return this.state=T.BLOCKLEFT,!0}for(var _e=0;_e<w.length;_e++){var Pe=w[_e],De=Pe.x,pe=Pe.y;if(De===Re&&pe===x&&(!Me||Me.turnable))return!1}if(!me||!me.moveble||Me&&!Me.turnable)return this.state=T.BLOCKLEFT,!0;break;case u.LEFT:var Ye=null==(H=p[Re=N+1])?void 0:H[x];if(_===Re&&P===x&&D!==T.DEATH)return this.state=T.BLOCKLEFT,!0;for(var we=0;we<Y.length;we++){var Ue=Y[we],Xe=Ue.x,Ve=Ue.y;if(Xe===Re&&Ve===x)return this.state=T.BLOCKLEFT,!0}for(var je=0;je<w.length;je++){var We=w[je],qe=We.x,ze=We.y;if(qe===Re&&ze===x)return!1}if(!(Ye&&Ye.moveble&&Ye.turnable))return this.state=T.BLOCKBACK,!0;break;case u.RIGHT:var Je=(Re=N+1)+1,Qe=null==(d=p[Re])?void 0:d[x],Ze=null==(A=p[Je])?void 0:A[x];if((_===Re&&P===x||_===Je&&P===Mt)&&D!==T.DEATH)return this.state=T.BLOCKLEFT,!0;for(var $e=0;$e<Y.length;$e++){var tr=Y[$e],er=tr.x,rr=tr.y;if(er===Re&&rr===x||er===Je&&rr===Mt)return this.state=T.BLOCKLEFT,!0}for(var ar=0;ar<w.length;ar++){var ir=w[ar],sr=ir.x,nr=ir.y;if(sr===Re&&nr===x&&(!Ze||Ze.turnable))return!1}if(!Qe||!Qe.moveble||Ze&&!Ze.turnable)return this.state=T.BLOCKFRONT,!0}break;case h.BOTTOM:var Tr,hr;switch(S){case u.TOP:hr=x+1;var ur=null==(I=p[N])?void 0:I[hr];if(_===N&&P===hr&&D!==T.DEATH)return this.state=T.BLOCKLEFT,!0;for(var or=0;or<Y.length;or++){var lr=Y[or],cr=lr.x,vr=lr.y;if(cr===N&&vr===hr)return this.state=T.BLOCKLEFT,!0}for(var Er=0;Er<w.length;Er++){var fr=w[Er],Or=fr.x,Lr=fr.y;if(Or===N&&Lr===hr)return!1}if(!(ur&&ur.moveble&&ur.turnable))return this.state=T.BLOCKFRONT,!0;break;case u.BOTTOM:var br=(hr=x+1)+1,Rr=null==(g=p[N])?void 0:g[hr],Cr=null==(y=p[N])?void 0:y[br];if((_===N&&P===hr||_===N&&P===br)&&D!==T.DEATH)return this.state=T.BLOCKLEFT,!0;for(var Br=0;Br<Y.length;Br++){var Kr=Y[Br],Hr=Kr.x,dr=Kr.y;if(Hr===N&&dr===hr||Hr===N&&dr===br)return this.state=T.BLOCKLEFT,!0}for(var Ar=0;Ar<w.length;Ar++){var Ir=w[Ar],gr=Ir.x,yr=Ir.y;if(gr===N&&yr===hr&&(!Cr||Cr.turnable))return!1}if(!Rr||!Rr.moveble||Cr&&!Cr.turnable)return this.state=T.BLOCKLEFT,!0;break;case u.LEFT:Tr=N-1,hr=x+1;var Fr=null==(F=p[N])?void 0:F[hr],kr=null==(k=p[Tr])?void 0:k[hr];if((_===N&&P===hr||_===Tr&&P===hr)&&D!==T.DEATH)return this.state=T.BLOCKLEFT,!0;for(var mr=0;mr<Y.length;mr++){var Mr=Y[mr],Nr=Mr.x,xr=Mr.y;if(Nr===N&&xr===hr||Nr===Tr&&xr===hr)return this.state=T.BLOCKLEFT,!0}for(var Sr=0;Sr<w.length;Sr++){var Gr=w[Sr],_r=Gr.x,Pr=Gr.y;if(_r===N&&Pr===hr&&(!kr||kr.turnable))return!1}if(!Fr||!Fr.moveble||kr&&!kr.turnable)return this.state=T.BLOCKRIGHT,!0;break;case u.RIGHT:Tr=N+1,hr=x+1;var Dr=null==(m=p[N])?void 0:m[hr],pr=null==(M=p[Tr])?void 0:M[hr];if((_===N&&P===hr||_===Tr&&P===hr)&&D!==T.DEATH)return this.state=T.BLOCKRIGHT,!0;for(var Yr=0;Yr<Y.length;Yr++){var wr=Y[Yr],Ur=wr.x,Xr=wr.y;if(Ur===N&&Xr===hr||Ur===Tr&&Xr===hr)return this.state=T.BLOCKRIGHT,!0}for(var Vr=0;Vr<w.length;Vr++){var jr=w[Vr],Wr=jr.x,qr=jr.y;if(Wr===N&&qr===hr&&(!pr||pr.turnable))return!1}if(!Dr||!Dr.moveble||pr&&!pr.turnable)return this.state=T.BLOCKRIGHT,!0}break;case h.TURNLEFT:var zr,Jr;switch(S){case u.TOP:zr=N-1,Jr=x-1;break;case u.LEFT:zr=N-1,Jr=x+1;break;case u.BOTTOM:zr=N+1,Jr=x+1;break;case u.RIGHT:zr=N+1,Jr=x-1}if(_===N&&P===Jr||_===zr&&P===x||_===zr&&P===Jr&&D!==T.DEATH)return this.state=T.BLOCKTURNLEFT,!0;for(var Qr=0;Qr<Y.length;Qr++){var Zr=Y[Qr],$r=Zr.x,ta=Zr.y;if($r===N&&ta===Jr||$r===zr&&ta===x||$r===zr&&ta===Jr)return this.state=T.BLOCKTURNLEFT,!0}if(p[N][Jr]&&!p[N][Jr].turnable||p[zr][Jr]&&!p[zr][Jr].turnable||p[zr][x]&&!p[zr][x].turnable)return this.state=T.BLOCKTURNLEFT,!0;break;case h.TURNRIGHT:var ea,ra;switch(S){case u.TOP:ea=N+1,ra=x-1;break;case u.LEFT:ea=N-1,ra=x-1;break;case u.BOTTOM:ea=N-1,ra=x+1;break;case u.RIGHT:ea=N+1,ra=x+1}if(_===N&&P===ra||_===ea&&P===x||_===ea&&P===ra&&D!==T.DEATH)return this.state=T.BLOCKTURNRIGHT,!0;for(var aa=0;aa<Y.length;aa++){var ia=Y[aa],sa=ia.x,na=ia.y;if(sa===N&&na===ra||sa===ea&&na===x||sa===ea&&na===ra)return this.state=T.BLOCKTURNRIGHT,!0}if(p[N][ra]&&!p[N][ra].turnable||p[ea][ra]&&!p[ea][ra].turnable||p[ea][x]&&!p[ea][x].turnable)return this.state=T.BLOCKTURNRIGHT,!0}return!1},i}(v))||f);i._RF.pop()}}}));

System.register("chunks:///_virtual/PlayerStateMachine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index.ts","./StateMachine.ts","./IdleSubStateMachine.ts","./TurnLeftSubStateMachine.ts","./PlayerManager.ts","./BlockTurnLeftSubMachine.ts","./TurnRightSubStateMachine.ts","./BlockLeftSubMachine.ts","./BlockRightSubMachine.ts","./BlockBackSubMachine.ts","./BlockTurnRightSubMachine.ts","./BloickFrontSubMachine.ts","./DeathSubStateMachine2.ts","./AttackSubStateMachine2.ts","./AirDeathSubStateMachine.ts"],(function(t){var e,s,a,i,n,h,c,r,u,T,o,M,L,l,R,g,f,p,m,C,S,B,E,K;return{setters:[function(t){e=t.inheritsLoose,s=t.asyncToGenerator,a=t.regeneratorRuntime},function(t){i=t.cclegacy,n=t._decorator,h=t.Animation},function(t){c=t.PARAME_NAME_ENUM,r=t.ENTITY_STATE_ENUM},function(t){u=t.getInitParamsTrigger,T=t.getInitParamsNumber,o=t.StateMachine},function(t){M=t.default},function(t){L=t.default},function(t){l=t.PlayerManager},function(t){R=t.default},function(t){g=t.default},function(t){f=t.default},function(t){p=t.default},function(t){m=t.default},function(t){C=t.default},function(t){S=t.default},function(t){B=t.default},function(t){E=t.default},function(t){K=t.default}],execute:function(){var A;i._RF.push({},"71b88a42nRNX4jAKHVKTsbM","PlayerStateMachine",void 0);var O=n.ccclass;n.property,t("PlayerStateMachine",O("PlayerStateMachine")(A=function(t){function i(){return t.apply(this,arguments)||this}e(i,t);var n=i.prototype;return n.init=function(){var t=s(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.animationComponent=this.addComponent(h),this.initParams(),this.initState(),this.initAnimationEvent(),t.next=6,Promise.all(this.waitingList);case 6:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),n.initParams=function(){this.params.set(c.IDLE,u()),this.params.set(c.TURNLEFT,u()),this.params.set(c.TURNRIGHT,u()),this.params.set(c.DIRECTION,T()),this.params.set(c.BLOCKFRONT,u()),this.params.set(c.BLOCKLEFT,u()),this.params.set(c.BLOCKRIGHT,u()),this.params.set(c.BLOCKBACK,u()),this.params.set(c.BLOCKTURNLEFT,u()),this.params.set(c.BLOCKTURNRIGHT,u()),this.params.set(c.ATTACK,u()),this.params.set(c.DEATH,u()),this.params.set(c.AIRDEATH,u())},n.initState=function(){this.stateMachines.set(c.IDLE,new M(this)),this.stateMachines.set(c.TURNLEFT,new L(this)),this.stateMachines.set(c.TURNRIGHT,new g(this)),this.stateMachines.set(c.BLOCKFRONT,new S(this)),this.stateMachines.set(c.BLOCKLEFT,new f(this)),this.stateMachines.set(c.BLOCKRIGHT,new p(this)),this.stateMachines.set(c.BLOCKBACK,new m(this)),this.stateMachines.set(c.BLOCKTURNLEFT,new R(this)),this.stateMachines.set(c.BLOCKTURNRIGHT,new C(this)),this.stateMachines.set(c.ATTACK,new E(this)),this.stateMachines.set(c.DEATH,new B(this)),this.stateMachines.set(c.AIRDEATH,new K(this))},n.initAnimationEvent=function(){var t=this;this.animationComponent.on(h.EventType.FINISHED,(function(){var e=t.animationComponent.defaultClip.name;["block","turn","attack"].some((function(t){return e.includes(t)}))&&(t.node.getComponent(l).state=r.IDLE)}))},n.run=function(){switch(this.currentState){case this.stateMachines.get(c.IDLE):case this.stateMachines.get(c.TURNLEFT):case this.stateMachines.get(c.TURNRIGHT):case this.stateMachines.get(c.BLOCKFRONT):case this.stateMachines.get(c.BLOCKLEFT):case this.stateMachines.get(c.BLOCKRIGHT):case this.stateMachines.get(c.BLOCKBACK):case this.stateMachines.get(c.BLOCKTURNLEFT):case this.stateMachines.get(c.BLOCKTURNRIGHT):case this.stateMachines.get(c.ATTACK):case this.stateMachines.get(c.DEATH):case this.stateMachines.get(c.AIRDEATH):this.params.get(c.TURNLEFT).value?this.currentState=this.stateMachines.get(c.TURNLEFT):this.params.get(c.TURNRIGHT).value?this.currentState=this.stateMachines.get(c.TURNRIGHT):this.params.get(c.BLOCKFRONT).value?this.currentState=this.stateMachines.get(c.BLOCKFRONT):this.params.get(c.BLOCKLEFT).value?this.currentState=this.stateMachines.get(c.BLOCKLEFT):this.params.get(c.BLOCKRIGHT).value?this.currentState=this.stateMachines.get(c.BLOCKRIGHT):this.params.get(c.BLOCKBACK).value?this.currentState=this.stateMachines.get(c.BLOCKBACK):this.params.get(c.BLOCKTURNLEFT).value?this.currentState=this.stateMachines.get(c.BLOCKTURNLEFT):this.params.get(c.BLOCKTURNRIGHT).value?this.currentState=this.stateMachines.get(c.BLOCKTURNRIGHT):this.params.get(c.ATTACK).value?this.currentState=this.stateMachines.get(c.ATTACK):this.params.get(c.DEATH).value?this.currentState=this.stateMachines.get(c.DEATH):this.params.get(c.AIRDEATH).value?this.currentState=this.stateMachines.get(c.AIRDEATH):this.params.get(c.IDLE).value?this.currentState=this.stateMachines.get(c.IDLE):this.currentState=this.currentState;break;default:this.currentState=this.stateMachines.get(c.IDLE)}},i}(o))||A);i._RF.pop()}}}));

System.register("chunks:///_virtual/ResourceManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Singleton.ts"],(function(e){var n,t,r,o,u,c;return{setters:[function(e){n=e.inheritsLoose,t=e.createClass},function(e){r=e.cclegacy,o=e.resources,u=e.SpriteFrame},function(e){c=e.default}],execute:function(){r._RF.push({},"aad64gg2FhCbpqZcVlKWk8f","ResourceManager",void 0);e("default",function(e){function r(){return e.apply(this,arguments)||this}return n(r,e),r.prototype.loadDir=function(e,n){return void 0===n&&(n=u),new Promise((function(t,r){o.loadDir(e,n,(function(e,n){e?r(e):t(n)}))}))},t(r,null,[{key:"Instance",get:function(){return e.GetInstance.call(this)}}]),r}(c));r._RF.pop()}}}));

System.register("chunks:///_virtual/ShakeManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts","./index.ts"],(function(t){var o,i,s,n,e,a,h,c;return{setters:[function(t){o=t.inheritsLoose},function(t){i=t.cclegacy,s=t._decorator,n=t.game,e=t.Component},function(t){a=t.default},function(t){h=t.EVENT_ENUM,c=t.SHAKE_TYPE_ENUM}],execute:function(){var r;i._RF.push({},"76dc93tyWlNl7c3bWPcRGP0","ShakeManager",void 0);var l=s.ccclass;s.property,t("ShakeManager",l("ShakeManager")(r=function(t){function i(){for(var o,i=arguments.length,s=new Array(i),n=0;n<i;n++)s[n]=arguments[n];return(o=t.call.apply(t,[this].concat(s))||this).isShaking=!1,o.shakeType=void 0,o.oldTime=0,o.oldPostion={x:0,y:0},o}o(i,t);var s=i.prototype;return s.onLoad=function(){a.Instance.on(h.SCREEN_SHAKE,this.onShake,this)},s.onDestroy=function(){a.Instance.off(h.SCREEN_SHAKE,this.onShake)},s.update=function(){if(this.isShaking){var t=(n.totalTime-this.oldTime)/1e3,o=1.6*Math.sin(12*Math.PI*t);switch(this.shakeType){case c.TOP:this.node.setPosition(this.oldPostion.x,this.oldPostion.y-o);break;case c.BOTTOM:this.node.setPosition(this.oldPostion.x,this.oldPostion.y+o);break;case c.LEFT:this.node.setPosition(this.oldPostion.x-o,this.oldPostion.y);break;case c.RIGHT:this.node.setPosition(this.oldPostion.x+o,this.oldPostion.y)}t>1&&(this.isShaking=!1,this.node.setPosition(this.oldPostion.x,this.oldPostion.y))}},s.onShake=function(t){this.isShaking||(this.shakeType=t,this.oldTime=n.totalTime,this.oldPostion.x=this.node.getPosition().x,this.oldPostion.y=this.node.getPosition().y,this.isShaking=!0)},s.stop=function(){this.isShaking=!1},i}(e))||r);i._RF.pop()}}}));

System.register("chunks:///_virtual/Singleton.ts",["cc"],(function(n){var t;return{setters:[function(n){t=n.cclegacy}],execute:function(){t._RF.push({},"42abaokk7NDZIOKJzWtH7WM","Singleton",void 0),n("default",function(){function n(){}return n.GetInstance=function(){return null===this._instance&&(this._instance=new this),this._instance},n}())._instance=null,t._RF.pop()}}}));

System.register("chunks:///_virtual/SomkeManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EntityManager.ts","./SomkeStateMachine.ts"],(function(t){var e,n,r,o,a,i,c;return{setters:[function(t){e=t.inheritsLoose,n=t.asyncToGenerator,r=t.regeneratorRuntime},function(t){o=t.cclegacy,a=t._decorator},function(t){i=t.EntityManager},function(t){c=t.SomkeStateMachine}],execute:function(){var s;o._RF.push({},"613140/cR1BnLe2LLrY68EF","SomkeManager",void 0);var u=a.ccclass;a.property,t("SomkeManager",u("SomkeManager")(s=function(t){function o(){return t.apply(this,arguments)||this}return e(o,t),o.prototype.init=function(){var e=n(r().mark((function e(n){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.fsm=this.addComponent(c),e.next=3,this.fsm.init();case 3:t.prototype.init.call(this,n);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),o}(i))||s);o._RF.pop()}}}));

System.register("chunks:///_virtual/SomkeStateMachine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index.ts","./StateMachine.ts","./IdleSubStateMachine5.ts","./SomkeManager.ts","./DeathSubStateMachine4.ts"],(function(t){var e,n,i,a,s,r,o,c,u,h,m,p,f,S;return{setters:[function(t){e=t.inheritsLoose,n=t.asyncToGenerator,i=t.regeneratorRuntime},function(t){a=t.cclegacy,s=t._decorator,r=t.Animation},function(t){o=t.PARAME_NAME_ENUM,c=t.ENTITY_STATE_ENUM},function(t){u=t.getInitParamsTrigger,h=t.getInitParamsNumber,m=t.StateMachine},function(t){p=t.default},function(t){f=t.SomkeManager},function(t){S=t.default}],execute:function(){var E;a._RF.push({},"63dbaGYafRBXJwnVEqWC2jr","SomkeStateMachine",void 0);var l=s.ccclass;s.property,t("SomkeStateMachine",l("SomkeStateMachine")(E=function(t){function a(){return t.apply(this,arguments)||this}e(a,t);var s=a.prototype;return s.init=function(){var t=n(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.animationComponent=this.addComponent(r),this.initParams(),this.initState(),this.initAnimationEvent(),t.next=6,Promise.all(this.waitingList);case 6:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s.initParams=function(){this.params.set(o.IDLE,u()),this.params.set(o.DEATH,u()),this.params.set(o.DIRECTION,h())},s.initState=function(){this.stateMachines.set(o.IDLE,new p(this)),this.stateMachines.set(o.DEATH,new S(this))},s.initAnimationEvent=function(){var t=this;this.animationComponent.on(r.EventType.FINISHED,(function(){var e=t.animationComponent.defaultClip.name;["idle"].some((function(t){return e.includes(t)}))&&(t.node.getComponent(f).state=c.DEATH)}))},s.run=function(){switch(this.currentState){case this.stateMachines.get(o.IDLE):case this.stateMachines.get(o.DEATH):this.params.get(o.DEATH).value?this.currentState=this.stateMachines.get(o.DEATH):this.params.get(o.IDLE).value?this.currentState=this.stateMachines.get(o.IDLE):this.currentState=this.currentState;break;default:this.currentState=this.stateMachines.get(o.IDLE)}},a}(m))||E);a._RF.pop()}}}));

System.register("chunks:///_virtual/SpikesFourSubMachine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index.ts","./State.ts","./SpikesSubMachine.ts"],(function(e){var t,n,s,i,u;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy},function(e){s=e.SPIKES_COUNT_ENUM},function(e){i=e.default},function(e){u=e.default}],execute:function(){n._RF.push({},"892bcT4wLdBnK6wycWmNmTj","SpikesFourSubMachine",void 0);var c="texture/spikes/spikesfour";e("default",function(e){function n(t){var n;return(n=e.call(this,t)||this).fsm=t,n.stateMachines.set(s.ZERO,new i(t,c+"/zero")),n.stateMachines.set(s.ONE,new i(t,c+"/one")),n.stateMachines.set(s.TWO,new i(t,c+"/two")),n.stateMachines.set(s.THREE,new i(t,c+"/three")),n.stateMachines.set(s.FOUR,new i(t,c+"/four")),n.stateMachines.set(s.FIVE,new i(t,c+"/five")),n}return t(n,e),n}(u));n._RF.pop()}}}));

System.register("chunks:///_virtual/SpikesManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index.ts","./TileMapManager.ts","./SpikesStateMachine.ts","./EventManager.ts","./DataManager.ts"],(function(t){var n,e,o,i,s,a,c,r,u,h,p,f,_,y,E,l,M,T;return{setters:[function(t){n=t.inheritsLoose,e=t.createClass,o=t.asyncToGenerator,i=t.regeneratorRuntime},function(t){s=t.cclegacy,a=t._decorator,c=t.Component,r=t.UITransform,u=t.Sprite},function(t){h=t.EVENT_ENUM,p=t.ENTITY_STATE_ENUM,f=t.PARAME_NAME_ENUM,_=t.SPIKES_TYPE_MAP_TOTAL_COUNT_ENUM},function(t){y=t.TILE_WIDTH,E=t.TILE_HEIGHT},function(t){l=t.SpikesStateMachine},function(t){M=t.default},function(t){T=t.default}],execute:function(){var S;s._RF.push({},"c2cb6MJIUtHJo/+34SKNLPq","SpikesManager",void 0);var d=a.ccclass;a.property,t("SpikesManager",d("SpikesManager ")(S=function(t){function s(){for(var n,e=arguments.length,o=new Array(e),i=0;i<e;i++)o[i]=arguments[i];return(n=t.call.apply(t,[this].concat(o))||this).x=0,n.y=0,n.fsm=void 0,n._count=void 0,n._totalCount=void 0,n._type=void 0,n}n(s,t);var a=s.prototype;return a.init=function(){var t=o(i().mark((function t(n){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.addComponent(u).sizeMode=u.SizeMode.CUSTOM,this.fsm=this.addComponent(l),t.next=5,this.fsm.init();case 5:this.getComponent(r).setContentSize(4*y,4*E),this.x=n.x,this.y=n.y,this.count=n.count,this.type=n.type,this.totalCount=_[this.type],M.Instance.on(h.PLAYER_MOVE_END,this.onLoop,this);case 13:case"end":return t.stop()}}),t,this)})));return function(n){return t.apply(this,arguments)}}(),a.onDestroy=function(){M.Instance.off(h.PLAYER_MOVE_END,this.onLoop)},a.update=function(){this.node.setPosition(this.x*y-1.5*y,-this.y*E+1.5*E)},a.onLoop=function(){this.count===this.totalCount?this.count=1:this.count++,this.onAttack()},a.backNumber=function(){this.count=0},a.onAttack=function(){var t=T.Instance.player,n=t.x,e=t.y;this.x===n&&this.y===e&&this.count===this.totalCount&&M.Instance.emit(h.ATTACK_PLAYER,p.DEATH)},e(s,[{key:"count",get:function(){return this._count},set:function(t){this._count=t,this.fsm.setParams(f.SPIKES_CUR_COUNT,t)}},{key:"totalCount",get:function(){return this._totalCount},set:function(t){this._totalCount=t,this.fsm.setParams(f.SPIKES_TOTAL_COUNT,t)}},{key:"type",get:function(){return this._type},set:function(t){this._type=t}}]),s}(c))||S);s._RF.pop()}}}));

System.register("chunks:///_virtual/SpikesOneSubStateMachine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index.ts","./State.ts","./SpikesSubMachine.ts"],(function(e){var t,n,s,i,a;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy},function(e){s=e.SPIKES_COUNT_ENUM},function(e){i=e.default},function(e){a=e.default}],execute:function(){n._RF.push({},"46bd9WVywJG7aamfZabOPfD","SpikesOneSubStateMachine",void 0);var u="texture/spikes/spikesone";e("default",function(e){function n(t){var n;return(n=e.call(this,t)||this).fsm=t,n.stateMachines.set(s.ZERO,new i(t,u+"/zero")),n.stateMachines.set(s.ONE,new i(t,u+"/one")),n.stateMachines.set(s.TWO,new i(t,u+"/two")),n}return t(n,e),n}(a));n._RF.pop()}}}));

System.register("chunks:///_virtual/SpikesStateMachine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index.ts","./StateMachine.ts","./SpikesOneSubStateMachine.ts","./SpikesTwoSubMachine.ts","./SpikesThreeSubMachine.ts","./SpikesFourSubMachine.ts","./SpikesManager.ts"],(function(t){var e,i,n,s,a,S,c,r,h,u,o,E,_,p,P,f;return{setters:[function(t){e=t.inheritsLoose,i=t.asyncToGenerator,n=t.regeneratorRuntime},function(t){s=t.cclegacy,a=t._decorator,S=t.Animation},function(t){c=t.PARAME_NAME_ENUM,r=t.ENTITY_TYPE_ENUM,h=t.SPIKES_TYPE_MAP_TOTAL_COUNT_ENUM},function(t){u=t.getInitParamsNumber,o=t.StateMachine},function(t){E=t.default},function(t){_=t.default},function(t){p=t.default},function(t){P=t.default},function(t){f=t.SpikesManager}],execute:function(){var M;s._RF.push({},"cc9d1RmRb1HbYuqyEGkXK9C","SpikesStateMachine",void 0);var I=a.ccclass;a.property,t("SpikesStateMachine",I("SpikesStateMachine")(M=function(t){function s(){return t.apply(this,arguments)||this}e(s,t);var a=s.prototype;return a.init=function(){var t=i(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.animationComponent=this.addComponent(S),this.initParams(),this.initState(),this.initAnimationEvent(),t.next=6,Promise.all(this.waitingList);case 6:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),a.initParams=function(){this.params.set(c.SPIKES_CUR_COUNT,u()),this.params.set(c.SPIKES_TOTAL_COUNT,u())},a.initState=function(){this.stateMachines.set(r.SPIKES_ONE,new E(this)),this.stateMachines.set(r.SPIKES_TWO,new _(this)),this.stateMachines.set(r.SPIKES_THREE,new p(this)),this.stateMachines.set(r.SPIKES_FOUR,new P(this))},a.initAnimationEvent=function(){var t=this;this.animationComponent.on(S.EventType.FINISHED,(function(){var e=t.animationComponent.defaultClip.name,i=t.params.get(c.SPIKES_CUR_COUNT).value;(i===h.SPIKES_ONE&&e.includes("/spikesone/two")||i===h.SPIKES_TWO&&e.includes("/spikestwo/three")||i===h.SPIKES_THREE&&e.includes("/spikesthree/four")||i===h.SPIKES_FOUR&&e.includes("/spikesfour/five"))&&t.node.getComponent(f).backNumber()}))},a.run=function(){var t=this.getParams(c.SPIKES_TOTAL_COUNT).value;switch(this.currentState){case this.stateMachines.get(r.SPIKES_ONE):case this.stateMachines.get(r.SPIKES_TWO):case this.stateMachines.get(r.SPIKES_THREE):case this.stateMachines.get(r.SPIKES_FOUR):t===h.SPIKES_TWO?this.currentState=this.stateMachines.get(r.SPIKES_TWO):t===h.SPIKES_THREE?this.currentState=this.stateMachines.get(r.SPIKES_THREE):t===h.SPIKES_FOUR?this.currentState=this.stateMachines.get(r.SPIKES_FOUR):t===h.SPIKES_ONE?this.currentState=this.stateMachines.get(r.SPIKES_ONE):this.currentState=this.currentState;break;default:this.currentState=this.stateMachines.get(r.SPIKES_ONE)}},s}(o))||M);s._RF.pop()}}}));

System.register("chunks:///_virtual/SpikesSubMachine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index.ts","./SubStateMachine.ts"],(function(t){var e,n,i,u,s;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){i=t.PARAME_NAME_ENUM,u=t.SPIKES_COUNT_MAP_NUMBER_ENUM},function(t){s=t.SubStateMachine}],execute:function(){n._RF.push({},"bf827bhhCBHS4KZaulUI/6F","SpikesSubMachine",void 0);t("default",function(t){function n(){return t.apply(this,arguments)||this}return e(n,t),n.prototype.run=function(){var t=this.fsm.getParams(i.SPIKES_CUR_COUNT).value;this.currentState=this.stateMachines.get(u[t])},n}(s));n._RF.pop()}}}));

System.register("chunks:///_virtual/SpikesThreeSubMachine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index.ts","./State.ts","./SpikesSubMachine.ts"],(function(e){var t,n,s,i,u;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy},function(e){s=e.SPIKES_COUNT_ENUM},function(e){i=e.default},function(e){u=e.default}],execute:function(){n._RF.push({},"72d503N3MNAR7nzzpIXPhZw","SpikesThreeSubMachine",void 0);var c="texture/spikes/spikesthree";e("default",function(e){function n(t){var n;return(n=e.call(this,t)||this).fsm=t,n.stateMachines.set(s.ZERO,new i(t,c+"/zero")),n.stateMachines.set(s.ONE,new i(t,c+"/one")),n.stateMachines.set(s.TWO,new i(t,c+"/two")),n.stateMachines.set(s.THREE,new i(t,c+"/three")),n.stateMachines.set(s.FOUR,new i(t,c+"/four")),n}return t(n,e),n}(u));n._RF.pop()}}}));

System.register("chunks:///_virtual/SpikesTwoSubMachine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index.ts","./State.ts","./SpikesSubMachine.ts"],(function(e){var t,n,s,i,u;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy},function(e){s=e.SPIKES_COUNT_ENUM},function(e){i=e.default},function(e){u=e.default}],execute:function(){n._RF.push({},"696e87oIPBBGo5jZ4eplPkl","SpikesTwoSubMachine",void 0);var c="texture/spikes/spikestwo";e("default",function(e){function n(t){var n;return(n=e.call(this,t)||this).fsm=t,n.stateMachines.set(s.ZERO,new i(t,c+"/zero")),n.stateMachines.set(s.ONE,new i(t,c+"/one")),n.stateMachines.set(s.TWO,new i(t,c+"/two")),n.stateMachines.set(s.THREE,new i(t,c+"/three")),n}return t(n,e),n}(u));n._RF.pop()}}}));

System.register("chunks:///_virtual/StartManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./FaderManager.ts","./index.ts"],(function(t){var n,e,r,a,o,c,i,u,s,p;return{setters:[function(t){n=t.inheritsLoose,e=t.asyncToGenerator,r=t.regeneratorRuntime},function(t){a=t.cclegacy,o=t._decorator,c=t.Component,i=t.Node,u=t.director},function(t){s=t.default},function(t){p=t.SCENE_ENUM}],execute:function(){var f;a._RF.push({},"e1852mT3YdCCaaeY8bqCz5u","StartManager",void 0);var d=o.ccclass;o.property,t("StartManager",d("StartManager")(f=function(t){function a(){return t.apply(this,arguments)||this}n(a,t);var o=a.prototype;return o.onLoad=function(){this.init()},o.init=function(){var t=e(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.Instance.fadeOut(1e3);case 2:this.node.once(i.EventType.TOUCH_END,this.handleStart,this);case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),o.handleStart=function(){var t=e(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.Instance.fadeIn(300);case 2:u.loadScene(p.Battle);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),a}(c))||f);a._RF.pop()}}}));

System.register("chunks:///_virtual/State.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ResourceManager.ts","./index2.ts"],(function(t){var i,n,a,e,o,s,r,p;return{setters:[function(t){i=t.asyncToGenerator,n=t.regeneratorRuntime},function(t){a=t.cclegacy,e=t.AnimationClip,o=t.animation,s=t.Sprite},function(t){r=t.default},function(t){p=t.sortSpriteFrame}],execute:function(){a._RF.push({},"615364yvrpNxpghD0dLDpnV","State",void 0);var h=t("ANIMATION_SPEED",1/8);t("default",function(){function t(t,i,n,a,o){void 0===n&&(n=e.WrapMode.Normal),void 0===a&&(a=h),void 0===o&&(o=[]),this.animationClip=void 0,this.fsm=t,this.path=i,this.wrapMode=n,this.speed=a,this.events=o,this.init()}var a=t.prototype;return a.init=function(){var t=i(n().mark((function t(){var i,a,h,u,c=this;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=r.Instance.loadDir(this.path),this.fsm.waitingList.push(i),t.next=4,i;case 4:a=t.sent,this.animationClip=new e,h=p(a).map((function(t,i){return[i*c.speed,t]})),(u=new o.ObjectTrack).path=(new o.TrackPath).toComponent(s).toProperty("spriteFrame"),this.animationClip.name=this.path,u.channel.curve.assignSorted(h),this.animationClip.duration=h.length*this.speed,this.animationClip.wrapMode=this.wrapMode,this.animationClip.events=this.events,this.animationClip=this.animationClip,this.animationClip.addTrack(u);case 16:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),a.run=function(){var t;(null==(t=this.fsm.animationComponent)||null==(t=t.defaultClip)?void 0:t.name)!==this.animationClip.name&&(this.fsm.animationComponent.defaultClip=this.animationClip,this.fsm.animationComponent.play())},t}());a._RF.pop()}}}));

System.register("chunks:///_virtual/StateMachine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index.ts"],(function(t){var e,r,a,n,i,s,o;return{setters:[function(t){e=t.inheritsLoose,r=t.createForOfIteratorHelperLoose,a=t.createClass},function(t){n=t.cclegacy,i=t._decorator,s=t.Component},function(t){o=t.FSM_PARAMS_TYPE_ENUM}],execute:function(){var u;n._RF.push({},"e8f98XrRBVL1aLYod5eCKVx","StateMachine",void 0);var c=i.ccclass;i.property,t("getInitParamsTrigger",(function(){return{type:o.TRIGGER,value:!1}})),t("getInitParamsNumber",(function(){return{type:o.DIRECTION,value:0}})),t("StateMachine",c("StateMachine")(u=function(t){function n(){for(var e,r=arguments.length,a=new Array(r),n=0;n<r;n++)a[n]=arguments[n];return(e=t.call.apply(t,[this].concat(a))||this).animationComponent=void 0,e.waitingList=[],e._currentState=null,e.params=new Map,e.stateMachines=new Map,e}e(n,t);var i=n.prototype;return i.getParams=function(t){if(this.params.has(t))return this.params.get(t)},i.setParams=function(t,e){this.params.has(t)&&(this.params.get(t).value=e,this.run(),this.resetTrigger())},i.resetTrigger=function(){for(var t,e=r(this.params);!(t=e()).done;){var a=t.value,n=(a[0],a[1]);n.type===o.TRIGGER&&(n.value=!1)}},a(n,[{key:"currentState",get:function(){return this._currentState},set:function(t){this._currentState=t,this._currentState.run()}}]),n}(s))||u);n._RF.pop()}}}));

System.register("chunks:///_virtual/SubStateMachine.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,n;return{setters:[function(t){e=t.createClass},function(t){n=t.cclegacy}],execute:function(){n._RF.push({},"75866VE5YVG9pJ160p2YEy3","SubStateMachine",void 0);t("SubStateMachine",function(){function t(t){this._currentState=null,this.stateMachines=new Map,this.fsm=t}return e(t,[{key:"currentState",get:function(){return this._currentState},set:function(t){var e;this._currentState=t,null==(e=this._currentState)||e.run()}}]),t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/TileManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TileMapManager.ts","./index.ts"],(function(t){var e,i,n,o,s,r,a,p,h;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,n=t._decorator,o=t.Sprite,s=t.UITransform,r=t.Component},function(t){a=t.TILE_WIDTH,p=t.TILE_HEIGHT},function(t){h=t.TILE_TYPE_ENUM}],execute:function(){var l;i._RF.push({},"3f744AhyJNMQbbt6j4J41Gj","TileManager",void 0);var L=n.ccclass;n.property,t("TileManager",L("TileManager")(l=function(t){function i(){for(var e,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))||this).type=void 0,e.moveble=void 0,e.turnable=void 0,e}return e(i,t),i.prototype.init=function(t,e,i,n){this.type=t,this.type===h.WALL_LEFT_TOP||this.type===h.WALL_LEFT_BOTTOM||this.type===h.WALL_RIGHT_TOP||this.type===h.WALL_RIGHT_BOTTOM||this.type===h.WALL_COLUMN||this.type===h.WALL_ROW?(this.moveble=!1,this.turnable=!1):this.type===h.CLIFF_CENTER||this.type===h.CLIFF_LEFT||this.type===h.CLIFF_RIGHT?(this.moveble=!1,this.turnable=!0):this.type===h.FLOOR&&(this.moveble=!0,this.turnable=!0),this.node.addComponent(o).spriteFrame=e,this.node.setPosition(i*a,-n*p),this.node.getComponent(s).setContentSize(a,p)},i}(r))||l);i._RF.pop()}}}));

System.register("chunks:///_virtual/TileMapManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TileManager.ts","./index2.ts","./DataManager.ts","./ResourceManager.ts"],(function(e){var n,t,r,a,i,c,o,s,u,l,f,p;return{setters:[function(e){n=e.inheritsLoose,t=e.asyncToGenerator,r=e.regeneratorRuntime},function(e){a=e.cclegacy,i=e._decorator,c=e.Component,o=e.SpriteFrame},function(e){s=e.TileManager},function(e){u=e.createUINode,l=e.radomByRange},function(e){f=e.default},function(e){p=e.default}],execute:function(){var d;a._RF.push({},"790c3Ml74BLRIACfPwZrebe","TileMapManager",void 0);var g=i.ccclass;i.property,e("TILE_WIDTH",55),e("TILE_HEIGHT",55),e("TileMapManager",g("TileMapManager")(d=function(e){function a(){return e.apply(this,arguments)||this}return n(a,e),a.prototype.init=function(){var e=t(r().mark((function e(){var n,t,a,i,c,d,g=this;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=f.Instance.mapInfo,f.Instance.tileInfo=[],e.next=4,p.Instance.loadDir("texture/tile/tile",o);case 4:t=e.sent,a=0;case 6:if(!(a<n.length)){e.next=21;break}i=n[a],f.Instance.tileInfo[a]=[],c=r().mark((function e(){var n,c,o,p,I,M,x;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==(n=i[d]).src&&null!==n.type){e.next=3;break}return e.abrupt("return",1);case 3:1!==(c=n.src)&&5!==c&&9!==c||a%2!=0||d%2!=0||(c+=l(0,4)),o="tile ("+c+")",p=t.find((function(e){return e.name===o}))||t[0],I=u(),M=I.addComponent(s),x=n.type,M.init(x,p,a,d),f.Instance.tileInfo[a][d]=M,I.setParent(g.node);case 13:case"end":return e.stop()}}),e)})),d=0;case 11:if(!(d<i.length)){e.next=18;break}return e.delegateYield(c(),"t0",13);case 13:if(!e.t0){e.next=15;break}return e.abrupt("continue",15);case 15:d++,e.next=11;break;case 18:a++,e.next=6;break;case 21:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),a}(c))||d);a._RF.pop()}}}));

System.register("chunks:///_virtual/TurnLeftSubStateMachine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index.ts","./State.ts","./DirectionSubStateMachine.ts"],(function(t){var e,n,i,s,u;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){i=t.DIRECTION_ENUM},function(t){s=t.default},function(t){u=t.default}],execute:function(){n._RF.push({},"f30bdXV6wZB/Z1ppCUu2Bmi","TurnLeftSubStateMachine",void 0);var a="texture/player/turnleft";t("default",function(t){function n(e){var n;return(n=t.call(this,e)||this).fsm=e,n.stateMachines.set(i.TOP,new s(e,a+"/top")),n.stateMachines.set(i.LEFT,new s(e,a+"/left")),n.stateMachines.set(i.RIGHT,new s(e,a+"/right")),n.stateMachines.set(i.BOTTOM,new s(e,a+"/bottom")),n}return e(n,t),n}(u));n._RF.pop()}}}));

System.register("chunks:///_virtual/TurnRightSubStateMachine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index.ts","./State.ts","./DirectionSubStateMachine.ts"],(function(t){var e,n,i,s,u;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){i=t.DIRECTION_ENUM},function(t){s=t.default},function(t){u=t.default}],execute:function(){n._RF.push({},"06840q1iqBAwZ3ffBFGrVOl","TurnRightSubStateMachine",void 0);var a="texture/player/turnright";t("default",function(t){function n(e){var n;return(n=t.call(this,e)||this).fsm=e,n.stateMachines.set(i.TOP,new s(e,a+"/top")),n.stateMachines.set(i.LEFT,new s(e,a+"/left")),n.stateMachines.set(i.RIGHT,new s(e,a+"/right")),n.stateMachines.set(i.BOTTOM,new s(e,a+"/bottom")),n}return e(n,t),n}(u));n._RF.pop()}}}));

System.register("chunks:///_virtual/WoodenSkeletonManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index.ts","./EventManager.ts","./DataManager.ts","./WoodenSkeletonStateMachine.ts","./EnemyManager.ts"],(function(t){var n,e,a,o,s,r,i,c,u,h,f;return{setters:[function(t){n=t.inheritsLoose,e=t.asyncToGenerator,a=t.regeneratorRuntime},function(t){o=t.cclegacy,s=t._decorator},function(t){r=t.EVENT_ENUM,i=t.ENTITY_STATE_ENUM},function(t){c=t.default},function(t){u=t.default},function(t){h=t.WoodenSkeletonStateMachine},function(t){f=t.EnemyManager}],execute:function(){var l;o._RF.push({},"4f5b0894zlIR48eYxBRGCNu","WoodenSkeletonManager",void 0);var p=s.ccclass;s.property,t("WoodenSkeletonManager",p("WoodenSkeletonManager")(l=function(t){function o(){return t.apply(this,arguments)||this}n(o,t);var s=o.prototype;return s.init=function(){var n=e(a().mark((function n(e){return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return this.fsm=this.addComponent(h),n.next=3,this.fsm.init();case 3:t.prototype.init.call(this,e),c.Instance.on(r.PLAYER_MOVE_END,this.onAttack,this);case 5:case"end":return n.stop()}}),n,this)})));return function(t){return n.apply(this,arguments)}}(),s.onDestroy=function(){t.prototype.onDestroy.call(this),c.Instance.off(r.PLAYER_MOVE_END,this.onAttack)},s.onAttack=function(){if(this.state!==i.DEATH&&u.Instance.player){var t=u.Instance.player,n=t.x,e=t.y,a=t.state;this.x===n&&Math.abs(this.y-e)<=1||this.y===e&&Math.abs(this.x-n)<=1&&a!==i.DEATH&&a!==i.AIRDEATH?(this.state=i.ATTACK,c.Instance.emit(r.ATTACK_PLAYER,i.DEATH)):this.state=i.IDLE}},o}(f))||l);o._RF.pop()}}}));

System.register("chunks:///_virtual/WoodenSkeletonStateMachine.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index.ts","./StateMachine.ts","./IdleSubStateMachine3.ts","./AttackSubStateMachine.ts","./WoodenSkeletonManager.ts","./DeathSubStateMachine.ts"],(function(t){var e,n,a,i,s,r,o,c,h,u,S,m,p,l,f;return{setters:[function(t){e=t.inheritsLoose,n=t.asyncToGenerator,a=t.regeneratorRuntime},function(t){i=t.cclegacy,s=t._decorator,r=t.Animation},function(t){o=t.PARAME_NAME_ENUM,c=t.ENTITY_STATE_ENUM},function(t){h=t.getInitParamsTrigger,u=t.getInitParamsNumber,S=t.StateMachine},function(t){m=t.default},function(t){p=t.default},function(t){l=t.WoodenSkeletonManager},function(t){f=t.default}],execute:function(){var M;i._RF.push({},"8608buLb4BHI71A6IIwmYhS","WoodenSkeletonStateMachine",void 0);var A=s.ccclass;s.property,t("WoodenSkeletonStateMachine",A("WoodenSkeletonStateMachine")(M=function(t){function i(){return t.apply(this,arguments)||this}e(i,t);var s=i.prototype;return s.init=function(){var t=n(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.animationComponent=this.addComponent(r),this.initParams(),this.initState(),this.initAnimationEvent(),t.next=6,Promise.all(this.waitingList);case 6:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s.initParams=function(){this.params.set(o.IDLE,h()),this.params.set(o.DIRECTION,u()),this.params.set(o.ATTACK,h()),this.params.set(o.DEATH,h())},s.initState=function(){this.stateMachines.set(o.IDLE,new m(this)),this.stateMachines.set(o.ATTACK,new p(this)),this.stateMachines.set(o.DEATH,new f(this))},s.initAnimationEvent=function(){var t=this;this.animationComponent.on(r.EventType.FINISHED,(function(){var e=t.animationComponent.defaultClip.name;["attack"].some((function(t){return e.includes(t)}))&&(t.node.getComponent(l).state=c.IDLE)}))},s.run=function(){switch(this.currentState){case this.stateMachines.get(o.IDLE):case this.stateMachines.get(o.ATTACK):case this.stateMachines.get(o.DEATH):this.params.get(o.ATTACK).value?this.currentState=this.stateMachines.get(o.ATTACK):this.params.get(o.DEATH).value?this.currentState=this.stateMachines.get(o.DEATH):this.params.get(o.IDLE).value?this.currentState=this.stateMachines.get(o.IDLE):this.currentState=this.currentState;break;default:this.currentState=this.stateMachines.get(o.IDLE)}},i}(S))||M);i._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});